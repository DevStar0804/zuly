{"remainingRequest":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\babel-loader\\lib\\index.js!D:\\working\\Vue\\zuly\\zuly\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\working\\Vue\\zuly\\zuly\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\Vue\\zuly\\zuly\\src\\pages\\Store.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\Vue\\zuly\\zuly\\src\\pages\\Store.vue","mtime":1604333533701},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBFZGl0b3IsIEVkaXRvckNvbnRlbnQsIEVkaXRvck1lbnVCYXIsIEVkaXRvck1lbnVCdWJibGUgfSBmcm9tICd0aXB0YXAnOwppbXBvcnQgeyBCbG9ja3F1b3RlLCBCdWxsZXRMaXN0LCBDb2RlQmxvY2ssIEhhcmRCcmVhaywgSGVhZGluZywgSG9yaXpvbnRhbFJ1bGUsIExpc3RJdGVtLCBPcmRlcmVkTGlzdCwgVG9kb0l0ZW0sIFRvZG9MaXN0LCBCb2xkLCBDb2RlLCBJdGFsaWMsIExpbmssIFN0cmlrZSwgVW5kZXJsaW5lLCBIaXN0b3J5IH0gZnJvbSAndGlwdGFwLWV4dGVuc2lvbnMnOwppbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7CmltcG9ydCAnLi4vLi4vcHVibGljL21lbnViYXIuc2Nzcyc7CmltcG9ydCAnLi4vLi4vcHVibGljL21lbnVidWJibGUuc2Nzcyc7CmltcG9ydCAndnVlLXRvYXN0LW5vdGlmaWNhdGlvbi9kaXN0L3RoZW1lLWRlZmF1bHQuY3NzJzsKaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7CmNvbnN0IFNUQVRVU19JTklUSUFMID0gMDsKY29uc3QgU1RBVFVTX1NBVklORyA9IDE7CmNvbnN0IFNUQVRVU19TVUNDRVNTID0gMjsKY29uc3QgU1RBVFVTX0ZBSUxFRCA9IDM7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFZGl0b3JDb250ZW50LAogICAgRWRpdG9yTWVudUJhciwKICAgIEVkaXRvck1lbnVCdWJibGUKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmVfaWQ6ICcnLAogICAgICBzdG9yZToge30sCiAgICAgIGVkaXRvcjogbmV3IEVkaXRvcih7CiAgICAgICAgb25CbHVyOiAoewogICAgICAgICAgZXZlbnQKICAgICAgICB9KSA9PiB7CiAgICAgICAgICB0aGlzLlVwZGF0ZUNvbXBhbnkoZXZlbnQpOwogICAgICAgIH0sCiAgICAgICAgZXh0ZW5zaW9uczogW25ldyBCbG9ja3F1b3RlKCksIG5ldyBCdWxsZXRMaXN0KCksIG5ldyBDb2RlQmxvY2soKSwgbmV3IEhhcmRCcmVhaygpLCBuZXcgSGVhZGluZyh7CiAgICAgICAgICBsZXZlbHM6IFsxLCAyLCAzXQogICAgICAgIH0pLCBuZXcgSG9yaXpvbnRhbFJ1bGUoKSwgbmV3IExpc3RJdGVtKCksIG5ldyBPcmRlcmVkTGlzdCgpLCBuZXcgVG9kb0l0ZW0oewogICAgICAgICAgbmVzdGVkOiB0cnVlCiAgICAgICAgfSksIG5ldyBUb2RvTGlzdCgpLCBuZXcgTGluaygpLCBuZXcgQm9sZCgpLCBuZXcgQ29kZSgpLCBuZXcgSXRhbGljKCksIG5ldyBTdHJpa2UoKSwgbmV3IFVuZGVybGluZSgpLCBuZXcgSGlzdG9yeSgpXSwKICAgICAgICBjb250ZW50OiAnJwogICAgICB9KSwKICAgICAgQ3VycmVudENhdGVnb3JpZXM6IFtdLAogICAgICBDYXRlZ29yaWVzOiBbXSwKICAgICAgY3VycmVudGNhdGVnb3J5OiAnJywKICAgICAgY2F0ZWdvcnlpbWc6ICcnLAogICAgICBJbWdVcmxzOiBbXSwKICAgICAgZGVsZXRlaW1nOiAnJywKICAgICAgY29tcGFueV9uYW1lOiAnJywKICAgICAgZGVzY3JpcHRpb25fbGVuZ3RoOiAwLAogICAgICBsYXRpdHVkZTogNDMuODc5MDUxODI4NDQwNjksCiAgICAgIGxvbmdpdHVkZTogMTEuMTAyMzI4MzAwNDc2MDc2LAogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICAgICAgc2hvd19tYXA6IGZhbHNlLAogICAgICBDdXJyZW50TGlua3M6IFtdLAogICAgICBMaW5rczogW10sCiAgICAgIGFkZGxpbms6ICcnLAogICAgICBhZGRsaW5rdXJsOiAnJywKICAgICAgdXBsb2FkZWRGaWxlczogW10sCiAgICAgIHVwbG9hZEVycm9yOiBudWxsLAogICAgICBjdXJyZW50U3RhdHVzOiBudWxsLAogICAgICB1cGxvYWRGaWVsZE5hbWU6ICdjb250ZW50cycsCiAgICAgIG9wZW53ZWVrOiAnc2VsZWN0ZWQnLAogICAgICBsaXZld2VlazogJ3NlbGVjdGVkJywKICAgICAgT3BlbmluZ0hvdXJzOiBbXSwKICAgICAgQ3VycmVudE9wZW5pbmdIb3Vyczoge30sCiAgICAgIEN1cnJlbnRMaXZlU3RyZWFtaW5nOiB7fSwKICAgICAgTGl2ZVN0cmVhbWluZzogW10sCiAgICAgIGxpbmtVcmw6IG51bGwsCiAgICAgIGxpbmtNZW51SXNBY3RpdmU6IGZhbHNlLAogICAgICBsb2dvX2lkOiAnJwogICAgfTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5lZGl0b3IuZGVzdHJveSgpOwogIH0sCgogIHdhdGNoOiB7CiAgICBDdXJyZW50T3BlbmluZ0hvdXJzKCkgewogICAgICByZXR1cm4gdGhpcy5DdXJyZW50T3BlbmluZ0hvdXJzOwogICAgfSwKCiAgICBvcGVud2VlazogZnVuY3Rpb24gKCkgewogICAgICBsZXQgZmxhZyA9IHRydWU7CgogICAgICBmb3IgKGxldCBpIGluIHRoaXMuQ3VycmVudE9wZW5pbmdIb3VycykgewogICAgICAgIGlmIChpID09PSB0aGlzLm9wZW53ZWVrKSB7CiAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZmxhZykgewogICAgICAgIGlmICh0aGlzLm9wZW53ZWVrICE9PSAnc2VsZWN0ZWQnKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbdGhpcy5vcGVud2Vla10gPSBbXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBsaXZld2VlazogZnVuY3Rpb24gKCkgewogICAgICBsZXQgZmxhZyA9IHRydWU7CgogICAgICBmb3IgKGxldCBpIGluIHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmcpIHsKICAgICAgICBpZiAoaSA9PT0gdGhpcy5saXZld2VlaykgewogICAgICAgICAgZmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICBpZiAodGhpcy5saXZld2VlayAhPT0gJ3NlbGVjdGVkJykgewogICAgICAgICAgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZ1t0aGlzLmxpdmV3ZWVrXSA9IFtdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZGxpbmt1cmw6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5BZGRMaW5rKCkudGhlbihkYXRhID0+IHsKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgdGhpcy5MaW5rcy5mb3JFYWNoKGxpbmsgPT4gewogICAgICAgICAgICBpZiAodGhpcy5hZGRsaW5rID09PSBsaW5rLmlkKSB7CiAgICAgICAgICAgICAgdGhpcy5DdXJyZW50TGlua3MucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgICAgIGxpbmtfaWQ6IGxpbmsuaWQsCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBsaW5rLmRpc3BsYXksCiAgICAgICAgICAgICAgICBpbWFnZTogbGluay5pbWFnZSwKICAgICAgICAgICAgICAgIHVybDogdGhpcy5hZGRsaW5rdXJsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBZ2dpdW50byBjb24gc3VjY2Vzc28hJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNJbml0aWFsKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdHVzID09PSBTVEFUVVNfSU5JVElBTDsKICAgIH0sCgogICAgaXNTYXZpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0dXMgPT09IFNUQVRVU19TQVZJTkc7CiAgICB9LAoKICAgIGlzU3VjY2VzcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX1NVQ0NFU1M7CiAgICB9LAoKICAgIGlzRmFpbGVkKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdHVzID09PSBTVEFUVVNfRkFJTEVEOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIG1haW5jYXRlZ29yeShtYWluY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5NYWluQ2F0ZWdvcnkobWFpbmNhdGVnb3J5KS50aGVuKGRhdGEgPT4gewogICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4gewogICAgICAgICAgICBpZiAoY2F0ZWdvcnkudmFsdWUgPT09IG1haW5jYXRlZ29yeSkgY2F0ZWdvcnkuc3RhciA9ICdmaWxsZWQnO2Vsc2UgY2F0ZWdvcnkuc3RhciA9ICd1bmZpbGxlZCc7CiAgICAgICAgICB9KTsKICAgICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdTZWxlemlvbmF0byBjb24gc3VjY2Vzc28gY29tZSBjYXRlZ29yaWEgcHJpbmNpcGFsZSEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBhZGRjYXRlZ29yeShhZGRjYXRlZ29yeSkgewogICAgICBsZXQgZmxhZyA9IHRydWU7CiAgICAgIHRoaXMuQ3VycmVudENhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7CiAgICAgICAgaWYgKGFkZGNhdGVnb3J5ID09PSBjYXRlZ29yeS52YWx1ZSkgewogICAgICAgICAgZmxhZyA9IGZhbHNlOwogICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0xhIGNhdGVnb3JpYSBlc2lzdGUgZ2nDoCEnLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICBpZiAodGhpcy5DdXJyZW50Q2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuTWFpbkNhdGVnb3J5KGFkZGNhdGVnb3J5KS50aGVuKGRhdGEgPT4gewogICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU2VsZXppb25hdG8gY29uIHN1Y2Nlc3NvIGNvbWUgY2F0ZWdvcmlhIHByaW5jaXBhbGUhJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5BZGRDYXRlZ29yeShhZGRjYXRlZ29yeSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIGxldCBzdGFyID0gJ3VuZmlsbGVkJzsKCiAgICAgICAgICAgIGlmICh0aGlzLkN1cnJlbnRDYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIHN0YXIgPSAnZmlsbGVkJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5DYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4gewogICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gYWRkY2F0ZWdvcnkpIHsKICAgICAgICAgICAgICAgIHRoaXMuQ3VycmVudENhdGVnb3JpZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGtleTogY2F0ZWdvcnkuZGlzcGxheSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IGFkZGNhdGVnb3J5LAogICAgICAgICAgICAgICAgICB0ZXh0OiBjYXRlZ29yeS5kaXNwbGF5LAogICAgICAgICAgICAgICAgICBzdGFyOiBzdGFyCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgICAgIG1lc3NhZ2U6ICdBZ2dpdW50byBjb24gc3VjY2Vzc28hJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgZGVsZXRlY2F0ZWdvcnkoZGVsZXRlY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5EZWxldGVDYXRlZ29yeShkZWxldGVjYXRlZ29yeSkudGhlbihkYXRhID0+IHsKICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzKSB7CiAgICAgICAgICAgIGlmICh0aGlzLkN1cnJlbnRDYXRlZ29yaWVzW2ldLnZhbHVlID09PSBkZWxldGVjYXRlZ29yeSkgewogICAgICAgICAgICAgIHRoaXMuQ3VycmVudENhdGVnb3JpZXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuQ3VycmVudENhdGVnb3JpZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIHRoaXMuTWFpbkNhdGVnb3J5KHRoaXMuQ3VycmVudENhdGVnb3JpZXNbMF0udmFsdWUpOwogICAgICAgICAgICB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzWzBdLnN0YXIgPSAnZmlsbGVkJzsKICAgICAgICAgIH0KCiAgICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgICBtZXNzYWdlOiAnRWxpbWluYXRvIGNvbiBzdWNjZXNzbyEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICByZXNldCgpIHsKICAgICAgLy8gcmVzZXQgZm9ybSB0byBpbml0aWFsIHN0YXRlCiAgICAgIHRoaXMuY3VycmVudFN0YXR1cyA9IFNUQVRVU19JTklUSUFMOwogICAgICB0aGlzLnVwbG9hZGVkRmlsZXMgPSBbXTsKICAgICAgdGhpcy51cGxvYWRFcnJvciA9IG51bGw7CiAgICB9LAoKICAgIHNhdmUoZm9ybURhdGEpIHsKICAgICAgLy8gdXBsb2FkIGRhdGEgdG8gdGhlIHNlcnZlcgogICAgICB0aGlzLmN1cnJlbnRTdGF0dXMgPSBTVEFUVVNfU0FWSU5HOwogICAgICB0aGlzLnVwbG9hZChmb3JtRGF0YSkudGhlbih4ID0+IHsKICAgICAgICB0aGlzLnVwbG9hZGVkRmlsZXMgPSBbXS5jb25jYXQoeCk7CiAgICAgICAgdGhpcy5jdXJyZW50U3RhdHVzID0gU1RBVFVTX1NVQ0NFU1M7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgdGhpcy51cGxvYWRFcnJvciA9IGVyci5yZXNwb25zZTsKICAgICAgICB0aGlzLmN1cnJlbnRTdGF0dXMgPSBTVEFUVVNfRkFJTEVEOwogICAgICB9KTsKICAgIH0sCgogICAgZmlsZXNDaGFuZ2UoZmllbGROYW1lLCBmaWxlTGlzdCkgewogICAgICAvLyBoYW5kbGUgZmlsZSBjaGFuZ2VzCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGlmICghZmlsZUxpc3QubGVuZ3RoKSByZXR1cm47CiAgICAgIGZvcm1EYXRhLmFwcGVuZChmaWVsZE5hbWUsIGZpbGVMaXN0WzBdLCBmaWxlTGlzdFswXS5uYW1lKTsgLy8gc2F2ZSBpdAoKICAgICAgdGhpcy5zYXZlKGZvcm1EYXRhKTsKICAgIH0sCgogICAgdXBsb2FkKGZvcm1EYXRhKSB7CiAgICAgIHJldHVybiBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXNgLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgYm9keTogZm9ybURhdGEsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KS50aGVuKHggPT4geC5qc29uKCkpLnRoZW4oeCA9PiB7CiAgICAgICAgdGhpcy5zYXZlaW1hZ2UoeC5pZCwgZm9ybURhdGEpOwogICAgICB9KTsKICAgIH0sCgogICAgc2F2ZWltYWdlKGlkLCBmb3JtRGF0YSkgewogICAgICByZXR1cm4gZmV0Y2goYC9hcGkvc3RvcmVzLyR7dGhpcy5zdG9yZV9pZH0vaW1hZ2VzLyR7aWR9YCwgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgbWltZXR5cGU6IGZvcm1EYXRhLmdldEFsbCgnY29udGVudHMnKVswXS50eXBlCiAgICAgICAgfSwKICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICB9KS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgaWYgKHRoaXMuSW1nVXJscy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5JbWdVcmxzLnB1c2goewogICAgICAgICAgICAgIGlkOiByZXMuaWQsCiAgICAgICAgICAgICAgdXJsOiBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXMvJHtyZXMuaWR9YCwKICAgICAgICAgICAgICBjbGFzc25hbWU6ICdjYXJvdXNlbC1pdGVtIGFjdGl2ZScsCiAgICAgICAgICAgICAgc3R5bGU6ICdvcGFjaXR5OiAwLjg7IGJvcmRlci1zdHlsZTpkb3VibGU7IGJvcmRlci1jb2xvcjpncmF5JwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAnQWdnaXVudG8gY29uIHN1Y2Nlc3NvIScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5JbWdVcmxzLnB1c2goewogICAgICAgICAgICAgIGlkOiByZXMuaWQsCiAgICAgICAgICAgICAgdXJsOiBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXMvJHtyZXMuaWR9YCwKICAgICAgICAgICAgICBjbGFzc25hbWU6ICdjYXJvdXNlbC1pdGVtJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAnQWdnaXVudG8gY29uIHN1Y2Nlc3NvIScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnLAogICAgICAgICAgICAgIHN0eWxlOiAnb3BhY2l0eTogMC44JwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBmb3JtYXQodGltZSkgewogICAgICBsZXQgcmVzdWx0ID0gJyc7CgogICAgICBpZiAodGltZS5pbmRleE9mKCc6JykgPiAtMSkgewogICAgICAgIGlmICh0aW1lLnNwbGl0KCc6JylbMF0gPCAxMCkgewogICAgICAgICAgcmVzdWx0ID0gJzAnICsgdGltZS5zcGxpdCgnOicpWzBdICsgJzonOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgKz0gdGltZS5zcGxpdCgnOicpWzBdICsgJzonOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRpbWUuc3BsaXQoJzonKVsxXSA8IDEwKSB7CiAgICAgICAgICByZXN1bHQgKz0gJzAnICsgdGltZS5zcGxpdCgnOicpWzFdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgKz0gdGltZS5zcGxpdCgnOicpWzFdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGltZSA8IDEwKSB7CiAgICAgICAgICByZXN1bHQgKz0gJzAnICsgdGltZSArICc6MDAnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgKz0gdGltZSArICc6MDAnOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCgogICAgdXBkYXRlb3BlbmluZyh3ZWVrZGF5LCBpLCBvcGVuaW5naG91cnMpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJycpIHsKICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV0uc3BsaWNlKGksIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBsID0gdGhpcy5DdXJyZW50T3BlbmluZ0hvdXJzW3dlZWtkYXldLmxlbmd0aDsKCiAgICAgICAgaWYgKHRoaXMuQ3VycmVudE9wZW5pbmdIb3Vyc1t3ZWVrZGF5XS5sZW5ndGggPD0gaSkgewogICAgICAgICAgdGhpcy5DdXJyZW50T3BlbmluZ0hvdXJzW3dlZWtkYXldW2xdID0gW107CiAgICAgICAgfQoKICAgICAgICBpZiAob3BlbmluZ2hvdXJzLmluZGV4T2YoJywnKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMF0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJywnKVswXSk7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMV0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJywnKVsxXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAob3BlbmluZ2hvdXJzLmluZGV4T2YoJy0nKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMF0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJy0nKVswXSk7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMV0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJy0nKVsxXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAob3BlbmluZ2hvdXJzLmluZGV4T2YoJzsnKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMF0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJzsnKVswXSk7CiAgICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnNbd2Vla2RheV1bbF1bMV0gPSB0aGlzLmZvcm1hdChvcGVuaW5naG91cnMuc3BsaXQoJzsnKVsxXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLlVwZGF0ZU9wZW5pbmcoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbXBvc3RhdG8gY29uIHN1Y2Nlc3NvIScsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGRlbGV0ZW9wZW5pbmcod2Vla2RheSwgaSkgewogICAgICBpZiAoaSA9PT0gJ2FsbCcgfHwgdGhpcy5DdXJyZW50T3BlbmluZ0hvdXJzLmxlbmd0aCA9PT0gMSAmJiBpID09PSAwKSB7CiAgICAgICAgLy8gaHR0cHM6Ly92dWVqcy5vcmcvdjIvYXBpLyNWdWUtZGVsZXRlCiAgICAgICAgVnVlLmRlbGV0ZSh0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnMsIHdlZWtkYXkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuQ3VycmVudE9wZW5pbmdIb3Vyc1t3ZWVrZGF5XS5zcGxpY2UoaSwgMSk7CiAgICAgIH0KCiAgICAgIHRoaXMuVXBkYXRlT3BlbmluZygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0ltcG9zdGF0byBjb24gc3VjY2Vzc28hJywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1sZWZ0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgdXBkYXRlbGl2aW5nKHdlZWtkYXksIGksIGxpdmluZ2hvdXJzKSB7CiAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZ1t3ZWVrZGF5XS5zcGxpY2UoaSwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGwgPSB0aGlzLkN1cnJlbnRMaXZlU3RyZWFtaW5nW3dlZWtkYXldLmxlbmd0aDsKCiAgICAgICAgaWYgKHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmdbd2Vla2RheV0ubGVuZ3RoIDw9IGkpIHsKICAgICAgICAgIHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmdbd2Vla2RheV1bbF0gPSBbXTsKICAgICAgICB9CgogICAgICAgIGlmIChsaXZpbmdob3Vycy5pbmRleE9mKCcsJykgPiAtMSkgewogICAgICAgICAgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZ1t3ZWVrZGF5XVtsXVswXSA9IHRoaXMuZm9ybWF0KGxpdmluZ2hvdXJzLnNwbGl0KCcsJylbMF0pOwogICAgICAgICAgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZ1t3ZWVrZGF5XVtsXVsxXSA9IHRoaXMuZm9ybWF0KGxpdmluZ2hvdXJzLnNwbGl0KCcsJylbMV0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpdmluZ2hvdXJzLmluZGV4T2YoJy0nKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLkN1cnJlbnRMaXZlU3RyZWFtaW5nW3dlZWtkYXldW2xdWzBdID0gdGhpcy5mb3JtYXQobGl2aW5naG91cnMuc3BsaXQoJy0nKVswXSk7CiAgICAgICAgICB0aGlzLkN1cnJlbnRMaXZlU3RyZWFtaW5nW3dlZWtkYXldW2xdWzFdID0gdGhpcy5mb3JtYXQobGl2aW5naG91cnMuc3BsaXQoJy0nKVsxXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobGl2aW5naG91cnMuaW5kZXhPZignOycpID4gLTEpIHsKICAgICAgICAgIHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmdbd2Vla2RheV1bbF1bMF0gPSB0aGlzLmZvcm1hdChsaXZpbmdob3Vycy5zcGxpdCgnOycpWzBdKTsKICAgICAgICAgIHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmdbd2Vla2RheV1bbF1bMV0gPSB0aGlzLmZvcm1hdChsaXZpbmdob3Vycy5zcGxpdCgnOycpWzFdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuVXBkYXRlTGl2aW5nKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgICBtZXNzYWdlOiAnSW1wb3N0YXRvIGNvbiBzdWNjZXNzbyEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBkZWxldGVsaXZpbmcod2Vla2RheSwgaSkgewogICAgICBpZiAoaSA9PT0gJ2FsbCcgfHwgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZy5sZW5ndGggPT09IDEgJiYgaSA9PT0gMCkgewogICAgICAgIC8vIGh0dHBzOi8vdnVlanMub3JnL3YyL2FwaS8jVnVlLWRlbGV0ZQogICAgICAgIFZ1ZS5kZWxldGUodGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZywgd2Vla2RheSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZ1t3ZWVrZGF5XS5zcGxpY2UoaSwgMSk7CiAgICAgIH0KCiAgICAgIHRoaXMuVXBkYXRlTGl2aW5nKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgICBtZXNzYWdlOiAnSW1wb3N0YXRvIGNvbiBzdWNjZXNzbyEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBEZWxldGVJbWFnZShpZCkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2ltYWdlcy8ke2lkfWAsIHsKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuSW1nVXJscykgewogICAgICAgICAgaWYgKHRoaXMuSW1nVXJsc1tpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgdGhpcy5JbWdVcmxzLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICBtZXNzYWdlOiAnRWxpbWluYXRvIGNvbiBzdWNjZXNzbyEnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwKCiAgICBhc3luYyBTZWxlY3RMb2dvKGxvZ29pZCkgewogICAgICBpZiAoY29uZmlybSgnVnVvaSBzY2VnbGllcmUgcXVlc3RhIGltbWFnaW5lIGNvbWUgaW1tYWdpbmUgZGVsIHR1byBsb2dvPycpKSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfWAsIHsKICAgICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGxvZ29faWQ6IGxvZ29pZAogICAgICAgICAgfSkKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLkltZ1VybHMuZm9yRWFjaCh1cmwgPT4gewogICAgICAgICAgICBpZiAodXJsLmlkID09PSB0aGlzLmxvZ29faWQpIHsKICAgICAgICAgICAgICB1cmwubG9nb2ltZyA9ICcnOwogICAgICAgICAgICAgIHVybC5zdHlsZSA9ICdvcGFjaXR5OiAwLjQnOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuSW1nVXJscy5mb3JFYWNoKHVybCA9PiB7CiAgICAgICAgICAgIGlmICh1cmwuaWQgPT09IGxvZ29pZCkgewogICAgICAgICAgICAgIHVybC5sb2dvaW1nID0gYCR7dGhpcy5wdWJsaWNQYXRofWljb25zL2ZpbGxlZC5wbmdgOwogICAgICAgICAgICAgIHVybC5zdHlsZSA9ICdvcGFjaXR5OiAwLjg7IGJvcmRlci1zdHlsZTpkb3VibGU7IGJvcmRlci1jb2xvcjpncmF5JzsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgICBtZXNzYWdlOiAnU2VsZXppb25hdG8gY29uIHN1Y2Nlc3NvIGNvbWUgbG9nbyEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBVcGRhdGVDb21wYW55KGV2ZW50KSB7CiAgICAgIGxldCBkYXRhID0ge307CgogICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ1Byb3NlTWlycm9yIFByb3NlTWlycm9yLWZvY3VzZWQnKSB7CiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC50YXJnZXQuaW5uZXJIVE1MCiAgICAgICAgfTsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uX2xlbmd0aCA9IGV2ZW50LnRhcmdldC5pbm5lckhUTUwubGVuZ3RoOwogICAgICB9IGVsc2UgewogICAgICAgIHN3aXRjaCAoZXZlbnQudGFyZ2V0Lm5hbWUpIHsKICAgICAgICAgIGNhc2UgJ2NvbXBhbnlfbmFtZSc6CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnYWRkcmVzcyc6CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgYWRkcmVzczogZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ2NpdHknOgogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgIGNpdHk6IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICd6aXAnOgogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgIHppcDogZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ3ZhdF9pZCc6CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgdmF0X2lkOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnZmlzY2FsX2NvZGUnOgogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgIGZpc2NhbF9jb2RlOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfWAsIHsKICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgVnVlLiR0b2FzdC5vcGVuKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0FnZ2lvcm5hdG8gY29uIHN1Y2Nlc3NvIScsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIFVwZGF0ZU9wZW5pbmcoKSB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc3RvcmVzLyR7dGhpcy5zdG9yZV9pZH1gLCB7CiAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBvcGVuaW5nX2hvdXJzOiBKU09OLnN0cmluZ2lmeSh0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnMpCiAgICAgICAgfSkKICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sCgogICAgYXN5bmMgVXBkYXRlTGl2aW5nKCkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9YCwgewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgbGl2ZV9zdHJlYW1pbmdfb3BlbmluZ19ob3VyczogSlNPTi5zdHJpbmdpZnkodGhpcy5DdXJyZW50TGl2ZVN0cmVhbWluZykKICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwKCiAgICBpbml0aWFsaXplKHN0b3JlaWQpIHsKICAgICAgaWYgKHRoaXMubGF0aXR1ZGUgJiYgdGhpcy5sb25naXR1ZGUpIHsKICAgICAgICB0aGlzLnNob3dfbWFwID0gdHJ1ZTsKICAgICAgICBWdWUubmV4dFRpY2soKCkgPT4gewogICAgICAgICAgLy8gdXBkYXRlIG1hcAogICAgICAgICAgY29uc3QgbXlJY29uID0gTC5pY29uKHsKICAgICAgICAgICAgaWNvblVybDogdGhpcy5wdWJsaWNQYXRoICsgJ2ljb25zL2Zhdmljb24ucG5nJywKICAgICAgICAgICAgaWNvblNpemU6IFszMiwgMzJdLAogICAgICAgICAgICBzaGFkb3dTaXplOiBbMzgsIDM4XSwKICAgICAgICAgICAgLy8gc2l6ZSBvZiB0aGUgc2hhZG93CiAgICAgICAgICAgIGljb25BbmNob3I6IFsyMiwgMTZdLAogICAgICAgICAgICBzaGFkb3dBbmNob3I6IFs0LCA2Ml0sCiAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbLTMsIC0xNl0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG1hcmtlciA9IEwubWFya2VyKFt0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZV0sIHsKICAgICAgICAgICAgaWNvbjogbXlJY29uCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBjb21wYW55bmFtZSA9IHRoaXMuY29tcGFueV9uYW1lOwogICAgICAgICAgdmFyIG1hcCA9IEwubWFwKCdtYXAnLCB7CiAgICAgICAgICAgIGRyYWdnaW5nOiAhTC5Ccm93c2VyLm1vYmlsZSwKICAgICAgICAgICAgdGFwOiAhTC5Ccm93c2VyLm1vYmlsZQogICAgICAgICAgfSkuc2V0VmlldyhbdGhpcy5sYXRpdHVkZSwgdGhpcy5sb25naXR1ZGVdLCAxNyk7CiAgICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobWFwLl9jb250YWluZXIsICdsZWFmbGV0LWNyb3NzaGFpcicpOwogICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihtYXJrZXIpOwogICAgICAgICAgICBzZWxmLmxhdGl0dWRlID0gZS5sYXRsbmcubGF0OwogICAgICAgICAgICBzZWxmLmxvbmdpdHVkZSA9IGUubGF0bG5nLmxuZzsKICAgICAgICAgICAgbWFya2VyID0gTC5tYXJrZXIoW3NlbGYubGF0aXR1ZGUsIHNlbGYubG9uZ2l0dWRlXSwgewogICAgICAgICAgICAgIGljb246IG15SWNvbgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWFya2VyLmFkZFRvKG1hcCkuYmluZFBvcHVwKGNvbXBhbnluYW1lKS5vcGVuUG9wdXAoKTsKICAgICAgICAgICAgZmV0Y2goYC9hcGkvc3RvcmVzLyR7c3RvcmVpZH1gLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICBsYXRpdHVkZTogZS5sYXRsbmcubGF0LAogICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBlLmxhdGxuZy5sbmcKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBZ2dpb3JuYXRvIGNvbiBzdWNjZXNzbyEnLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7CiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9Imh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJwogICAgICAgICAgfSkuYWRkVG8obWFwKTsKICAgICAgICAgIG1hcmtlci5hZGRUbyhtYXApLmJpbmRQb3B1cChjb21wYW55bmFtZSkub3BlblBvcHVwKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZmV0Y2hTdG9yZShzdG9yZUlkKSB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3RvcmVzLycgKyBzdG9yZUlkLCB7CiAgICAgICAgbW9kZTogJ25vLWNvcnMnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgIH0sCgogICAgYXN5bmMgZmV0Y2hDYXRlZ29yeSgpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYXRlZ29yaWVzJywgewogICAgICAgIG1vZGU6ICduby1jb3JzJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICB9LAoKICAgIGFzeW5jIGZldGNoTGluaygpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9saW5rcycsIHsKICAgICAgICBtb2RlOiAnbm8tY29ycycsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSwKCiAgICBhc3luYyBBZGRDYXRlZ29yeShhZGRjYXRlZ29yeSkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2NhdGVnb3JpZXMvJHthZGRjYXRlZ29yeX1gLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgbW9kZTogJ25vLWNvcnMnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sCgogICAgYXN5bmMgTWFpbkNhdGVnb3J5KG1haW5jYXRlZ29yeSkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2NhdGVnb3JpZXMvJHttYWluY2F0ZWdvcnl9L21haW5gLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgbW9kZTogJ25vLWNvcnMnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sCgogICAgYXN5bmMgRGVsZXRlQ2F0ZWdvcnkoZGVsZXRlY2F0ZWdvcnkpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9jYXRlZ29yaWVzLyR7ZGVsZXRlY2F0ZWdvcnl9YCwgewogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwKCiAgICBhc3luYyBBZGRMaW5rKCkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2xpbmtzLyR7dGhpcy5hZGRsaW5rfWAsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHVybDogdGhpcy5hZGRsaW5rdXJsCiAgICAgICAgfSkKICAgICAgfSk7CiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICB9LAoKICAgIGFzeW5jIERlbGV0ZUxpbmsoaWQpIHsKICAgICAgaWYgKGNvbmZpcm0oJ1Z1b2kgcmltdW92ZXJlIHF1ZXN0YSBjYXRlZ29yaWE/JykpIHsKICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuQ3VycmVudExpbmtzKSB7CiAgICAgICAgICBpZiAodGhpcy5DdXJyZW50TGlua3NbaV0uaWQgPT09IGlkKSB7CiAgICAgICAgICAgIHRoaXMuQ3VycmVudExpbmtzLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc3RvcmVzLyR7dGhpcy5zdG9yZV9pZH0vbGlua3MvJHtpZH1gLCB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIG1vZGU6ICduby1jb3JzJywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIFZ1ZS4kdG9hc3Qub3Blbih7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdFbGltaW5hdG8gY29uIHN1Y2Nlc3NvIScsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICB9CiAgICB9LAoKICAgIG9uQ2F0ZWdvcnlDaGFuZ2UoY3VycmVudGNhdGVnb3J5KSB7CiAgICAgIHRoaXMuQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHsKICAgICAgICBpZiAoY2F0ZWdvcnkuaWQgPT09IGN1cnJlbnRjYXRlZ29yeSkgewogICAgICAgICAgdGhpcy5jYXRlZ29yeWltZyA9IGNhdGVnb3J5LmltYWdlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dMaW5rTWVudShhdHRycykgewogICAgICB0aGlzLmxpbmtVcmwgPSBhdHRycy5ocmVmOwogICAgICB0aGlzLmxpbmtNZW51SXNBY3RpdmUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5saW5rSW5wdXQuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGhpZGVMaW5rTWVudSgpIHsKICAgICAgdGhpcy5saW5rVXJsID0gbnVsbDsKICAgICAgdGhpcy5saW5rTWVudUlzQWN0aXZlID0gZmFsc2U7CiAgICB9LAoKICAgIHNldExpbmtVcmwoY29tbWFuZCwgdXJsKSB7CiAgICAgIGNvbW1hbmQoewogICAgICAgIGhyZWY6IHVybAogICAgICB9KTsKICAgICAgdGhpcy5oaWRlTGlua01lbnUoKTsKICAgIH0KCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnJlc2V0KCk7CiAgICB0aGlzLnN0b3JlX2lkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5mZXRjaFN0b3JlKHRoaXMuc3RvcmVfaWQpLnRoZW4oZGF0YSA9PiB7CiAgICAgIHRoaXMuc3RvcmUgPSBkYXRhOwogICAgICB0aGlzLmRlc2NyaXB0aW9uX2xlbmd0aCA9IGRhdGEuZGVzY3JpcHRpb24ubGVuZ3RoOwogICAgICB0aGlzLmVkaXRvci5zZXRDb250ZW50KGRhdGEuZGVzY3JpcHRpb24pOwogICAgICBpZiAoZGF0YS5sYXRpdHVkZSAhPSBudWxsKSB0aGlzLmxhdGl0dWRlID0gZGF0YS5sYXRpdHVkZTsKICAgICAgaWYgKGRhdGEubGF0aXR1ZGUgIT0gbnVsbCkgdGhpcy5sb25naXR1ZGUgPSBkYXRhLmxvbmdpdHVkZTsKICAgICAgdGhpcy5jb21wYW55X25hbWUgPSBkYXRhLmNvbXBhbnlfbmFtZTsKICAgICAgdGhpcy5sb2dvX2lkID0gZGF0YS5sb2dvX2lkOwogICAgICB0aGlzLkN1cnJlbnRMaW5rcyA9IGRhdGEubGlua3M7CgogICAgICBpZiAoZGF0YS5vcGVuaW5nX2hvdXJzICE9IG51bGwpIHsKICAgICAgICB0aGlzLkN1cnJlbnRPcGVuaW5nSG91cnMgPSBkYXRhLm9wZW5pbmdfaG91cnM7CiAgICAgIH0KCiAgICAgIGlmIChkYXRhLmxpdmVfc3RyZWFtaW5nX29wZW5pbmdfaG91cnMgIT0gbnVsbCkgewogICAgICAgIHRoaXMuQ3VycmVudExpdmVTdHJlYW1pbmcgPSBkYXRhLmxpdmVfc3RyZWFtaW5nX29wZW5pbmdfaG91cnM7CiAgICAgIH0KCiAgICAgIHRoaXMuaW5pdGlhbGl6ZSh0aGlzLnN0b3JlX2lkKTsKCiAgICAgIGZvciAobGV0IGNhdGVnb3J5IGluIGRhdGEuY2F0ZWdvcmllcykgewogICAgICAgIGxldCBzdGFyID0gJ3VuZmlsbGVkJzsKCiAgICAgICAgaWYgKGRhdGEubWFpbl9jYXRlZ29yeSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKGNhdGVnb3J5ID09PSBkYXRhLm1haW5fY2F0ZWdvcnkuZGlzcGxheSkgewogICAgICAgICAgICBzdGFyID0gJ2ZpbGxlZCc7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzLnB1c2goewogICAgICAgICAga2V5OiBjYXRlZ29yeSwKICAgICAgICAgIHRleHQ6IGNhdGVnb3J5LAogICAgICAgICAgdmFsdWU6IGRhdGEuY2F0ZWdvcmllc1tjYXRlZ29yeV0sCiAgICAgICAgICBzdGFyOiBzdGFyCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGxldCBpID0gMDsKCiAgICAgIGZvciAobGV0IHVybCA9IDA7IHVybCA8IGRhdGEuaW1hZ2VzLmxlbmd0aDsgdXJsKyspIHsKICAgICAgICBsZXQgY2xhc3NuYW1lID0gJyc7CiAgICAgICAgbGV0IHN0eWxlID0gJycsCiAgICAgICAgICAgIGxvZ29pbWcgPSAnJzsKCiAgICAgICAgaWYgKGRhdGEuaW1hZ2VzW3VybF0gIT0gbnVsbCkgewogICAgICAgICAgaWYgKHRoaXMuSW1nVXJscy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgY2xhc3NuYW1lID0gJ2Nhcm91c2VsLWl0ZW0gYWN0aXZlJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsYXNzbmFtZSA9ICdjYXJvdXNlbC1pdGVtJzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGF0YS5pbWFnZXNbdXJsXSA9PT0gZGF0YS5sb2dvX2lkKSB7CiAgICAgICAgICAgIHN0eWxlID0gJ29wYWNpdHk6IDAuODsgYm9yZGVyLXN0eWxlOmRvdWJsZTsgYm9yZGVyLWNvbG9yOmdyYXknOwogICAgICAgICAgICBsb2dvaW1nID0gYCR7dGhpcy5wdWJsaWNQYXRofWljb25zL2ZpbGxlZC5wbmdgOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3R5bGUgPSAnb3BhY2l0eTogMC40JzsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLkltZ1VybHMucHVzaCh7CiAgICAgICAgICAgIGtleTogaSwKICAgICAgICAgICAgbG9nb2ltZzogbG9nb2ltZywKICAgICAgICAgICAgaWQ6IGRhdGEuaW1hZ2VzW3VybF0sCiAgICAgICAgICAgIHVybDogYC9hcGkvc3RvcmVzLyR7dGhpcy5zdG9yZV9pZH0vaW1hZ2VzLyR7ZGF0YS5pbWFnZXNbdXJsXX1gLAogICAgICAgICAgICBjbGFzc25hbWU6IGNsYXNzbmFtZSwKICAgICAgICAgICAgc3R5bGU6IHN0eWxlCiAgICAgICAgICB9KTsKICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuSW1nVXJscyk7CiAgICB9KTsKICAgIHRoaXMuZmV0Y2hDYXRlZ29yeSgpLnRoZW4oZGF0YSA9PiB7CiAgICAgIHRoaXMuQ2F0ZWdvcmllcyA9IGRhdGE7CiAgICB9KTsKICAgIHRoaXMuZmV0Y2hMaW5rKCkudGhlbihkYXRhID0+IHsKICAgICAgdGhpcy5MaW5rcyA9IGRhdGE7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["Store.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container mt-3\">\n    <small class=\"text-muted\">{{ $options.__file }}</small>\n    <h1 class=\"text-primary font-weight-bold\">\n      <router-link to=\"/\"\n        ><img\n          src=\"~bootstrap-icons/icons/caret-left-fill.svg\"\n          alt=\"caret icon\"\n          width=\"30\"\n          height=\"30\"\n      /></router-link>\n      Vetrina digitale di: {{ store.company_name }}\n    </h1>\n    <hr />\n    <!-- <div class=\"row alert-danger\">TODO</div> -->\n    <div class=\"row m-3\">\n      <div class=\"col\">\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Immagini per la vetrina</h5>\n            <!-- display slide images -->\n            <div id=\"carouselExampleCaptions\" class=\"carousel slide\" data-ride=\"carousel\">\n              <ol class=\"carousel-indicators\" style=\"margin:-100px\">\n                <div\n                  v-for=\"imgurl in ImgUrls\"\n                  :key=\"imgurl.id\">\n                  <img\n                    :src=\"imgurl.url\"\n                    alt=\"\"\n                    width=\"100\"\n                    height=\"100\"\n                    data-target=\"#carouselExampleCaptions\"\n                    :data-slide-to=\"imgurl.key\"\n                    class=\"active\"\n                    :style=\"imgurl.style\"\n                  />\n                  <img :src=\"imgurl.logoimg\" alt=\"\" width=24 height=24 v-if=\"imgurl.logoimg!=''\" style=\"position:absolute; margin-left:-100px;\">\n                  <button\n                    type=\"button\"\n                    class=\"btn-close\"\n                    aria-label=\"Close\"\n                    @click=\"DeleteImage(imgurl.id)\"\n                    style=\"position:absolute; margin-left:-25px;\"\n                  ></button>\n                </div>\n              </ol>\n              <div class=\"carousel-inner\">\n                <div\n                  :class=\"imgurl.classname\"\n                  v-for=\"imgurl in ImgUrls\"\n                  :key=\"imgurl.id\"\n                  style='height: 300px;'\n                >\n                  <img\n                    :src=\"imgurl.url\"\n                    class=\"rounded mx-auto d-block\"\n                    alt=\"Image\"\n                    height='100%'\n                    @click=\"SelectLogo(imgurl.id)\"\n                  />\n                </div>\n              </div>\n              <a\n                class=\"carousel-control-prev\"\n                href=\"#carouselExampleCaptions\"\n                role=\"button\"\n                data-slide=\"prev\"\n              >\n                <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                <span class=\"visually-hidden\">Previous</span>\n              </a>\n              <a\n                class=\"carousel-control-next\"\n                href=\"#carouselExampleCaptions\"\n                role=\"button\"\n                data-slide=\"next\"\n              >\n                <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                <span class=\"visually-hidden\">Next</span>\n              </a>\n            </div>\n            <!-- upload images -->\n            <form class=\"input-group mb-3\" style=\"padding-top:100px\">\n              <div class=\"form-file\">\n                <input\n                  type=\"file\"\n                  :name=\"uploadFieldName\"\n                  :disabled=\"isSaving\"\n                  @change=\"filesChange($event.target.name, $event.target.files)\"\n                  accept=\"image/*\"\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Recapiti e dati fiscali</h5>\n            <!-- display company name -->\n            <div class=\"input-group mb-3\">\n              <span class=\"input-group-text\" id=\"companyname\"\n                >Nome del negozio</span\n              >\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"company_name\"\n                placeholder=\"Dall'ago al missile s.a.s.\"\n                :value=\"store.company_name\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"companyname\"\n              />\n            </div>\n\n            <!-- display address and city name -->\n            <div class=\"input-group mb-3\">\n              <span class=\"input-group-text\" id=\"address\">Indirizzo</span>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"address\"\n                placeholder=\"Piazza Vittoria 1\"\n                :value=\"store.address\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"address\"\n              />\n              <span class=\"input-group-text\" id=\"city\">Città</span>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"city\"\n                placeholder=\"Milano\"\n                :value=\"store.city\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"city\"\n              />\n            </div>\n\n            <!-- display zip, vat and fiscal_code name -->\n            <div class=\"input-group mb-3\">\n              <span class=\"input-group-text\" id=\"zip\">C.A.P.</span>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"zip\"\n                placeholder=\"11111\"\n                :value=\"store.zip\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"zip\"\n              />\n              <span class=\"input-group-text\" id=\"vat\">Partita IVA</span>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"vat_id\"\n                placeholder=\"00000000000\"\n                :value=\"store.vat_id\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"vat\"\n              />\n              <span class=\"input-group-text\" id=\"fiscal_code\">Codice fiscale</span>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"fiscal_code\"\n                placeholder=\"RSSMRR66G12L123W\"\n                :value=\"store.fiscal_code\"\n                @blur=\"UpdateCompany($event)\"\n                aria-label=\"Sizing example input\"\n                aria-describedby=\"fiscal_code\"\n              />\n            </div>\n            <!-- display lat/lon -->\n            <hr/>\n            <h6 class=\"card-subtitle mb-2 text-muted\">Localizza il negozio sulla mappa, zoomando e spostandoti. Quando hai trovato la posizione clicca una volta.</h6>\n            <div class=\"input-group mb-3\">\n              <span class=\"input-group-text\" id=\"latitude\">Latitudine</span>\n              <input\n                readonly\n                type=\"text\"\n                class=\"form-control\"\n                name=\"latitude\"\n                placeholder=\"\"\n                :value=\"latitude\"\n                aria-describedby=\"latitude\"\n              />\n              <span class=\"input-group-text\" id=\"longitude\">Longitudine</span>\n              <input\n                readonly\n                type=\"text\"\n                class=\"form-control\"\n                name=\"longitude\"\n                placeholder=\"\"\n                :value=\"longitude\"\n                aria-describedby=\"longitude\"\n              />\n            </div>\n            <!-- display geolocation -->\n            <div class=\"w-100\">\n              <div\n                v-show=\"this.show_map\"\n                id=\"map\"\n                style=\"width: 100%; height: 200px\"\n              ></div>\n            </div>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <!-- display tiptap discription -->\n            <div class=\"editor\">\n              <label for=\"\" style=\"font-size: 24px\">Descrizione</label>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Inserire un testo breve (circa 500 caratteri), anche formattato, che descriva i punti di forza del negozio.</h6>\n              <span class=\"badge bg-dark float-right\">{{ description_length }} caratteri</span>\n              <editor-menu-bar :editor=\"editor\" v-slot=\"{ commands, isActive }\">\n                <div class=\"menubar\">\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.bold() }\"\n                    @click=\"commands.bold\"\n                  >\n                    <img :src=\"publicPath + 'icons/bold.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.italic() }\"\n                    @click=\"commands.italic\"\n                  >\n                    <img :src=\"publicPath + 'icons/italic.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.strike() }\"\n                    @click=\"commands.strike\"\n                  >\n                    <img :src=\"publicPath + 'icons/strike.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.underline() }\"\n                    @click=\"commands.underline\"\n                  >\n                    <img :src=\"publicPath + 'icons/underline.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.code() }\"\n                    @click=\"commands.code\"\n                  >\n                    <img :src=\"publicPath + 'icons/code.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.paragraph() }\"\n                    @click=\"commands.paragraph\"\n                  >\n                    <img :src=\"publicPath + 'icons/paragraph.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\n                    @click=\"commands.heading({ level: 1 })\"\n                  >\n                    H1\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n                    @click=\"commands.heading({ level: 2 })\"\n                  >\n                    H2\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n                    @click=\"commands.heading({ level: 3 })\"\n                  >\n                    H3\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.bullet_list() }\"\n                    @click=\"commands.bullet_list\"\n                  >\n                    <img :src=\"publicPath + 'icons/ul.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.ordered_list() }\"\n                    @click=\"commands.ordered_list\"\n                  >\n                    <img :src=\"publicPath + 'icons/ol.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.blockquote() }\"\n                    @click=\"commands.blockquote\"\n                  >\n                    <img :src=\"publicPath + 'icons/quote.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.code_block() }\"\n                    @click=\"commands.code_block\"\n                  >\n                    <img :src=\"publicPath + 'icons/code.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    @click=\"commands.horizontal_rule\"\n                  >\n                    <img :src=\"publicPath + 'icons/hr.svg'\" alt=\"\" />\n                  </button>\n\n                  <button\n                    class=\"menubar__button\"\n                    :class=\"{ 'is-active': isActive.todo_list() }\"\n                    @click=\"commands.todo_list\"\n                  >\n                    <img :src=\"publicPath + 'icons/undo.svg'\" alt=\"\" />\n                  </button>\n\n                  <button class=\"menubar__button\" @click=\"commands.undo\">\n                    <img :src=\"publicPath + 'icons/undo.svg'\" alt=\"\" />\n                  </button>\n\n                  <button class=\"menubar__button\" @click=\"commands.redo\">\n                    <img :src=\"publicPath + 'icons/redo.svg'\" alt=\"\" />\n                  </button>\n                </div>\n              </editor-menu-bar>\n              <editor-menu-bubble\n                class=\"menububble\"\n                :editor=\"editor\"\n                @hide=\"hideLinkMenu\"\n                v-slot=\"{ commands, isActive, getMarkAttrs, menu }\"\n              >\n                <div\n                  class=\"menububble\"\n                  :class=\"{ 'is-active': menu.isActive }\"\n                  :style=\"`left: ${menu.left}px; bottom: ${menu.bottom}px;`\"\n                >\n                  <form\n                    class=\"menububble__form\"\n                    v-if=\"linkMenuIsActive\"\n                    @submit.prevent=\"setLinkUrl(commands.link, linkUrl)\"\n                  >\n                    <input\n                      class=\"menububble__input\"\n                      type=\"text\"\n                      v-model=\"linkUrl\"\n                      placeholder=\"https://\"\n                      ref=\"linkInput\"\n                      @keydown.esc=\"hideLinkMenu\"\n                    />\n                    <button\n                      class=\"menububble__button\"\n                      @click=\"setLinkUrl(commands.link, null)\"\n                      type=\"button\"\n                    >\n                      <img :src=\"publicPath + 'icons/remove.svg'\" alt=\"\" />\n                    </button>\n                  </form>\n\n                  <template v-else>\n                    <button\n                      class=\"menububble__button\"\n                      @click=\"showLinkMenu(getMarkAttrs('link'))\"\n                      :class=\"{ 'is-active': isActive.link() }\"\n                    >\n                      <span>{{\n                        isActive.link() ? \"Update Link\" : \"Add Link\"\n                      }}</span>\n                      <img :src=\"publicPath + 'icons/link.svg'\" alt=\"\" />\n                    </button>\n                  </template>\n                </div>\n              </editor-menu-bubble>\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <editor-content\n                    class=\"editor__content\"\n                    :editor=\"editor\"\n                    id=\"description\"\n                    name=\"description\"\n                    @keyup.enter=\"UpdateCompany($event)\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Orari di apertura del negozio</h5>\n            <!-- display opening hours -->\n            <div v-for=\"(opening, index) in CurrentOpeningHours\" :key=\"index\">\n              <button type=\"button\" class=\"btn btn-light\" style=\"width: 160px\">\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteopening(index, 'all')\"\n                ></button>\n                <span v-if=\"index == 0\">Lunedì</span>\n                <span v-if=\"index == 1\">Martedì</span>\n                <span v-if=\"index == 2\">Mercoledì</span>\n                <span v-if=\"index == 3\">Giovedì</span>\n                <span v-if=\"index == 4\">Venerdì</span>\n                <span v-if=\"index == 5\">Sabato</span>\n                <span v-if=\"index == 6\">Domenica</span>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"opening[0]\"\n                  placeholder=\"fascia oraria es. 8-12\"\n                  @blur=\"updateopening(index, 0, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteopening(index, 0)\"\n                ></button>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"opening[1]\"\n                  @blur=\"updateopening(index, 1, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteopening(index, 1)\"\n                ></button>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"opening[2]\"\n                  @blur=\"updateopening(index, 2, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteopening(index, 2)\"\n                ></button>\n              </button>\n            </div>\n            <br />\n            <div class=\"input-group mb-3\">\n              <label for=\"week\"\n                ><img\n                  :src=\"publicPath + 'icons/plus.png'\"\n                  alt=\"\"\n                  width=\"24\"\n                  height=\"24\"\n              /></label>\n              <select id=\"week\" v-model.lazy=\"openweek\" style=\"border: 0px\">\n                <option value=\"selected\">Aggiungi giorno di apertura</option>\n                <option value=\"0\">Lunedì</option>\n                <option value=\"1\">Martedì</option>\n                <option value=\"2\">Mercoledì</option>\n                <option value=\"3\">Giovedì</option>\n                <option value=\"4\">Venerdì</option>\n                <option value=\"5\">Sabato</option>\n                <option value=\"6\">Domenica</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Orari preferenziali per il live streaming</h5>\n            <!-- display live streaming opening hours -->\n            <div v-for=\"(living, index) in CurrentLiveStreaming\" :key=\"index\">\n              <button type=\"button\" class=\"btn btn-light\" style=\"width: 160px\">\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteliving(index, 'all')\"\n                ></button>\n                <span v-if=\"index == 0\">Lunedì</span>\n                <span v-if=\"index == 1\">Martedì</span>\n                <span v-if=\"index == 2\">Mercoledì</span>\n                <span v-if=\"index == 3\">Giovedì</span>\n                <span v-if=\"index == 4\">Venerdì</span>\n                <span v-if=\"index == 5\">Sabato</span>\n                <span v-if=\"index == 6\">Domenica</span>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"living[0]\"\n                  placeholder=\"fascia oraria es. 8-12\"\n                  @blur=\"updateliving(index, 0, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteliving(index, 0)\"\n                ></button>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"living[1]\"\n                  @blur=\"updateliving(index, 1, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteliving(index, 1)\"\n                ></button>\n              </button>\n              <button type=\"button\" class=\"btn btn-light col-3\">\n                <input\n                  type=\"text\"\n                  class=\"col-8\"\n                  :value=\"living[2]\"\n                  @blur=\"updateliving(index, 2, $event.target.value)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  aria-label=\"Close\"\n                  @click=\"deleteliving(index, 2)\"\n                ></button>\n              </button>\n            </div>\n            <br />\n            <div class=\"input-group mb-3\">\n              <label for=\"week\"\n                ><img\n                  :src=\"publicPath + 'icons/plus.png'\"\n                  alt=\"\"\n                  width=\"24\"\n                  height=\"24\"\n              /></label>\n              <select id=\"week\" v-model.lazy=\"liveweek\" style=\"border: 0px\">\n                <option value=\"selected\">Aggiungi giorno di apertura</option>\n                <option value=\"0\">Lunedì</option>\n                <option value=\"1\">Martedì</option>\n                <option value=\"2\">Mercoledì</option>\n                <option value=\"3\">Giovedì</option>\n                <option value=\"4\">Venerdì</option>\n                <option value=\"5\">Sabato</option>\n                <option value=\"6\">Domenica</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Categorie merceologiche</h5>\n            <h6 class=\"card-subtitle mb-2 text-muted\">Si può selezionare più d'una categoria. Indicare col la stellina la categoria principale.</h6>\n            <!-- display categories -->\n            <button\n              type=\"button\"\n              style=\"margin-left: 10px\"\n              class=\"btn btn-success btn-sm\"\n              v-for=\"category in CurrentCategories\"\n              :key=\"category.key\"\n            >\n              <img\n                :src=\"publicPath + 'icons/' + category.star + '.png'\"\n                alt=\"\"\n                width=\"24\"\n                height=\"24\"\n                @click=\"maincategory(category.value)\"\n              />\n              {{ category.text }}\n              <button\n                type=\"button\"\n                class=\"btn-close btn-close\"\n                aria-label=\"Close\"\n                style=\"height: 10px; margin-right: -8px; color: red\"\n                @click=\"deletecategory(category.value)\"\n              ></button>\n            </button>\n            <div class=\"btn-group\" style=\"margin-left: 10px\">\n              <button\n                type=\"button\"\n                class=\"btn btn-info dropdown-toggle btn-sm\"\n                data-toggle=\"dropdown\"\n                aria-expanded=\"false\"\n              >\n                <img\n                  :src=\"publicPath + 'icons/plus.png'\"\n                  alt=\"\"\n                  width=\"24\"\n                  height=\"24\"\n                />\n                Aggiungi categoria\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li>\n                  <a\n                    class=\"dropdown-item\"\n                    @click=\"addcategory(category.id)\"\n                    v-for=\"category in Categories\"\n                    :key=\"category.id\"\n                    >{{ category.id.toUpperCase() }}</a\n                  >\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <br />\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <!-- display links -->\n            <div class=\"col\">\n              <label for=\"link\" style=\"font-size: 24px\">Collegamenti</label>\n              <table class=\"table table-hover\" id=\"link\">\n                <tbody>\n                  <tr v-for=\"link in CurrentLinks\" :key=\"link.id\">\n                    <td>\n                      <img\n                        :src=\"link.image\"\n                        alt=\"image\"\n                        with=\"20\"\n                        height=\"20\"\n                      />\n                    </td>\n                    <th>{{ link.display }}</th>\n                    <td>{{ link.url }}</td>\n                    <td>\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-dark\"\n                        v-on:click=\"DeleteLink(link.id)\"\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"input-group mb-3\">\n              <label class=\"input-group-text\" for=\"addlink\">\n                <img\n                  :src=\"publicPath + 'icons/plus.png'\"\n                  alt=\"\"\n                  width=\"24\"\n                  height=\"24\"\n                />\n                Aggiungi collegamento\n              </label>\n              <select class=\"form-select\" id=\"addlink\" v-model.lazy=\"addlink\">\n                <option disabled value=\"\">Scegli il tipo di collegamento</option>\n                <option v-for=\"link in Links\" :key=\"link.id\" :value=\"link.id\">\n                  {{ link.display }}\n                </option>\n              </select>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model.lazy=\"addlinkurl\"\n                placeholder=\"http://example.com\"\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { Editor, EditorContent, EditorMenuBar, EditorMenuBubble } from 'tiptap'\nimport {\n  Blockquote,\n  BulletList,\n  CodeBlock,\n  HardBreak,\n  Heading,\n  HorizontalRule,\n  ListItem,\n  OrderedList,\n  TodoItem,\n  TodoList,\n  Bold,\n  Code,\n  Italic,\n  Link,\n  Strike,\n  Underline,\n  History\n} from 'tiptap-extensions'\nimport 'leaflet/dist/leaflet.css'\nimport '../../public/menubar.scss'\nimport '../../public/menububble.scss'\nimport 'vue-toast-notification/dist/theme-default.css'\nimport L from 'leaflet'\nconst STATUS_INITIAL = 0\nconst STATUS_SAVING = 1\nconst STATUS_SUCCESS = 2\nconst STATUS_FAILED = 3\nexport default {\n  components: {\n    EditorContent,\n    EditorMenuBar,\n    EditorMenuBubble\n  },\n  data () {\n    return {\n      store_id: '',\n      store: {},\n      editor: new Editor({\n        onBlur: ({ event }) => {\n          this.UpdateCompany(event)\n        },\n        extensions: [\n          new Blockquote(),\n          new BulletList(),\n          new CodeBlock(),\n          new HardBreak(),\n          new Heading({ levels: [1, 2, 3] }),\n          new HorizontalRule(),\n          new ListItem(),\n          new OrderedList(),\n          new TodoItem({\n            nested: true\n          }),\n          new TodoList(),\n          new Link(),\n          new Bold(),\n          new Code(),\n          new Italic(),\n          new Strike(),\n          new Underline(),\n          new History()\n        ],\n        content: ''\n      }),\n      CurrentCategories: [],\n      Categories: [],\n      currentcategory: '',\n      categoryimg: '',\n      ImgUrls: [],\n      deleteimg: '',\n      company_name: '',\n      description_length: 0,\n      latitude: 43.87905182844069,\n      longitude: 11.102328300476076,\n      publicPath: process.env.BASE_URL,\n      show_map: false,\n      CurrentLinks: [],\n      Links: [],\n      addlink: '',\n      addlinkurl: '',\n      uploadedFiles: [],\n      uploadError: null,\n      currentStatus: null,\n      uploadFieldName: 'contents',\n      openweek: 'selected',\n      liveweek: 'selected',\n      OpeningHours: [],\n      CurrentOpeningHours: {},\n      CurrentLiveStreaming: {},\n      LiveStreaming: [],\n      linkUrl: null,\n      linkMenuIsActive: false,\n      logo_id: '',\n    }\n  },\n  beforeDestroy () {\n    this.editor.destroy()\n  },\n  watch: {\n    CurrentOpeningHours () {\n      return this.CurrentOpeningHours\n    },\n    openweek: function () {\n      let flag = true\n      for (let i in this.CurrentOpeningHours) {\n        if (i === this.openweek) {\n          flag = false\n        }\n      }\n      if (flag) {\n        if (this.openweek !== 'selected') {\n          this.CurrentOpeningHours[this.openweek] = []\n        }\n      }\n    },\n    liveweek: function () {\n      let flag = true\n      for (let i in this.CurrentLiveStreaming) {\n        if (i === this.liveweek) {\n          flag = false\n        }\n      }\n      if (flag) {\n        if (this.liveweek !== 'selected') {\n          this.CurrentLiveStreaming[this.liveweek] = []\n        }\n      }\n    },\n    addlinkurl: function () {\n      this.AddLink().then((data) => {\n        if (data) {\n          this.Links.forEach((link) => {\n            if (this.addlink === link.id) {\n              this.CurrentLinks.push({\n                id: data.id,\n                link_id: link.id,\n                display: link.display,\n                image: link.image,\n                url: this.addlinkurl\n              })\n              Vue.$toast.open({\n                message: 'Aggiunto con successo!',\n                type: 'success',\n                position: 'top-left'\n              })\n            }\n          })\n        }\n      })\n    }\n  },\n  computed: {\n    isInitial () {\n      return this.currentStatus === STATUS_INITIAL\n    },\n    isSaving () {\n      return this.currentStatus === STATUS_SAVING\n    },\n    isSuccess () {\n      return this.currentStatus === STATUS_SUCCESS\n    },\n    isFailed () {\n      return this.currentStatus === STATUS_FAILED\n    }\n  },\n  methods: {\n    maincategory (maincategory) {\n      this.MainCategory(maincategory).then((data) => {\n        if (data.status === 200) {\n          this.CurrentCategories.forEach((category) => {\n            if (category.value === maincategory) category.star = 'filled'\n            else category.star = 'unfilled'\n          })\n          Vue.$toast.open({\n            message: 'Selezionato con successo come categoria principale!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    addcategory (addcategory) {\n      let flag = true\n      this.CurrentCategories.forEach((category) => {\n        if (addcategory === category.value) {\n          flag = false\n          Vue.$toast.open({\n            message: 'La categoria esiste già!',\n            type: 'warning',\n            position: 'top-left'\n          })\n        }\n      })\n      if (flag) {\n        if (this.CurrentCategories.length === 0) {\n          this.MainCategory(addcategory).then((data) => {\n            if (data.status === 200) {\n              Vue.$toast.open({\n                message: 'Selezionato con successo come categoria principale!',\n                type: 'success',\n                position: 'top-left'\n              })\n            }\n          })\n        }\n        this.AddCategory(addcategory).then((data) => {\n          if (data.status === 200) {\n            let star = 'unfilled'\n            if (this.CurrentCategories.length === 0) {\n              star = 'filled'\n            }\n            this.Categories.forEach((category) => {\n              if (category.id === addcategory) {\n                this.CurrentCategories.push({\n                  key: category.display,\n                  value: addcategory,\n                  text: category.display,\n                  star: star\n                })\n              }\n            })\n            Vue.$toast.open({\n              message: 'Aggiunto con successo!',\n              type: 'success',\n              position: 'top-left'\n            })\n          }\n        })\n      }\n    },\n    deletecategory (deletecategory) {\n      this.DeleteCategory(deletecategory).then((data) => {\n        if (data.status === 200) {\n          for (let i in this.CurrentCategories) {\n            if (this.CurrentCategories[i].value === deletecategory) {\n              this.CurrentCategories.splice(i, 1)\n            }\n          }\n          if (this.CurrentCategories.length === 1) {\n            this.MainCategory(this.CurrentCategories[0].value)\n            this.CurrentCategories[0].star = 'filled'\n          }\n          Vue.$toast.open({\n            message: 'Eliminato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    reset () {\n      // reset form to initial state\n      this.currentStatus = STATUS_INITIAL\n      this.uploadedFiles = []\n      this.uploadError = null\n    },\n    save (formData) {\n      // upload data to the server\n      this.currentStatus = STATUS_SAVING\n\n      this.upload(formData)\n        .then((x) => {\n          this.uploadedFiles = [].concat(x)\n          this.currentStatus = STATUS_SUCCESS\n        })\n        .catch((err) => {\n          this.uploadError = err.response\n          this.currentStatus = STATUS_FAILED\n        })\n    },\n    filesChange (fieldName, fileList) {\n      // handle file changes\n      const formData = new FormData()\n      if (!fileList.length) return\n      formData.append(fieldName, fileList[0], fileList[0].name)\n      // save it\n      this.save(formData)\n    },\n    upload (formData) {\n      return fetch(`/api/stores/${this.store_id}/images`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'application/json',\n          accept: 'application/json'\n        }\n      })\n        .then((x) => x.json())\n        .then((x) => {\n          this.saveimage(x.id, formData)\n        })\n    },\n    saveimage (id, formData) {\n      return fetch(`/api/stores/${this.store_id}/images/${id}`, {\n        method: 'POST',\n        headers: {\n          accept: 'application/json',\n          mimetype: formData.getAll('contents')[0].type\n        },\n        body: formData\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res) {\n            if (this.ImgUrls.length === 0) {\n              this.ImgUrls.push({\n                id: res.id,\n                url: `/api/stores/${this.store_id}/images/${res.id}`,\n                classname: 'carousel-item active',\n                style: 'opacity: 0.8; border-style:double; border-color:gray'\n              })\n              Vue.$toast.open({\n                message: 'Aggiunto con successo!',\n                type: 'success',\n                position: 'top-left'\n              })\n            } else {\n              this.ImgUrls.push({\n                id: res.id,\n                url: `/api/stores/${this.store_id}/images/${res.id}`,\n                classname: 'carousel-item'\n              })\n              Vue.$toast.open({\n                message: 'Aggiunto con successo!',\n                type: 'success',\n                position: 'top-left',\n                style: 'opacity: 0.8'\n              })\n            }\n          }\n        })\n    },\n    format (time) {\n      let result = ''\n      if (time.indexOf(':') > -1) {\n        if (time.split(':')[0] < 10) {\n          result = '0' + time.split(':')[0] + ':'\n        } else {\n          result += time.split(':')[0] + ':'\n        }\n        if (time.split(':')[1] < 10) {\n          result += '0' + time.split(':')[1]\n        } else {\n          result += time.split(':')[1]\n        }\n      } else {\n        if (time < 10) {\n          result += '0' + time + ':00'\n        } else {\n          result += time + ':00'\n        }\n      }\n      return result\n    },\n    updateopening (weekday, i, openinghours) {\n      if (event.target.value === '') {\n        this.CurrentOpeningHours[weekday].splice(i, 1)\n      } else {\n        let l = this.CurrentOpeningHours[weekday].length\n        if (this.CurrentOpeningHours[weekday].length <= i) {\n          this.CurrentOpeningHours[weekday][l] = []\n        }\n        if (openinghours.indexOf(',') > -1) {\n          this.CurrentOpeningHours[weekday][l][0] = this.format(\n            openinghours.split(',')[0]\n          )\n          this.CurrentOpeningHours[weekday][l][1] = this.format(\n            openinghours.split(',')[1]\n          )\n        }\n        if (openinghours.indexOf('-') > -1) {\n          this.CurrentOpeningHours[weekday][l][0] = this.format(\n            openinghours.split('-')[0]\n          )\n          this.CurrentOpeningHours[weekday][l][1] = this.format(\n            openinghours.split('-')[1]\n          )\n        }\n        if (openinghours.indexOf(';') > -1) {\n          this.CurrentOpeningHours[weekday][l][0] = this.format(\n            openinghours.split(';')[0]\n          )\n          this.CurrentOpeningHours[weekday][l][1] = this.format(\n            openinghours.split(';')[1]\n          )\n        }\n      }\n      this.UpdateOpening().then((response) => {\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Impostato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    deleteopening (weekday, i) {\n      if (i === 'all' || (this.CurrentOpeningHours.length === 1 && i === 0)) {\n        // https://vuejs.org/v2/api/#Vue-delete\n        Vue.delete(this.CurrentOpeningHours, weekday)\n      } else {\n        this.CurrentOpeningHours[weekday].splice(i, 1)\n      }\n      this.UpdateOpening().then((response) => {\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Impostato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    updateliving (weekday, i, livinghours) {\n      if (event.target.value === '') {\n        this.CurrentLiveStreaming[weekday].splice(i, 1)\n      } else {\n        let l = this.CurrentLiveStreaming[weekday].length\n        if (this.CurrentLiveStreaming[weekday].length <= i) {\n          this.CurrentLiveStreaming[weekday][l] = []\n        }\n        if (livinghours.indexOf(',') > -1) {\n          this.CurrentLiveStreaming[weekday][l][0] = this.format(\n            livinghours.split(',')[0]\n          )\n          this.CurrentLiveStreaming[weekday][l][1] = this.format(\n            livinghours.split(',')[1]\n          )\n        }\n        if (livinghours.indexOf('-') > -1) {\n          this.CurrentLiveStreaming[weekday][l][0] = this.format(\n            livinghours.split('-')[0]\n          )\n          this.CurrentLiveStreaming[weekday][l][1] = this.format(\n            livinghours.split('-')[1]\n          )\n        }\n        if (livinghours.indexOf(';') > -1) {\n          this.CurrentLiveStreaming[weekday][l][0] = this.format(\n            livinghours.split(';')[0]\n          )\n          this.CurrentLiveStreaming[weekday][l][1] = this.format(\n            livinghours.split(';')[1]\n          )\n        }\n      }\n      this.UpdateLiving().then((response) => {\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Impostato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    deleteliving (weekday, i) {\n      if (i === 'all' || (this.CurrentLiveStreaming.length === 1 && i === 0)) {\n        // https://vuejs.org/v2/api/#Vue-delete\n        Vue.delete(this.CurrentLiveStreaming, weekday)\n      } else {\n        this.CurrentLiveStreaming[weekday].splice(i, 1)\n      }\n      this.UpdateLiving().then((response) => {\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Impostato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    async DeleteImage (id) {\n      const response = await fetch(\n        `/api/stores/${this.store_id}/images/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json'\n          }\n        }\n      )\n      if (response.status === 200) {\n        for (let i in this.ImgUrls) {\n          if (this.ImgUrls[i].id === id) {\n            this.ImgUrls.splice(i, 1)\n          }\n        }\n        Vue.$toast.open({\n          message: 'Eliminato con successo!',\n          type: 'success',\n          position: 'top-left'\n        })\n      }\n      return response\n    },\n    async SelectLogo (logoid) {\n      if (\n        confirm('Vuoi scegliere questa immagine come immagine del tuo logo?')\n      ) {\n        const response = await fetch(`/api/stores/${this.store_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ logo_id: logoid })\n        })\n        if (response.status === 200) {\n          this.ImgUrls.forEach(url => {\n            if(url.id === this.logo_id){\n              url.logoimg = ''\n              url.style = 'opacity: 0.4'\n            }\n          });\n          this.ImgUrls.forEach(url => {\n            if(url.id === logoid){\n              url.logoimg = `${this.publicPath}icons/filled.png`\n              url.style = 'opacity: 0.8; border-style:double; border-color:gray'\n            }\n          });\n          Vue.$toast.open({\n            message: 'Selezionato con successo come logo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n        return response\n      }\n    },\n    async UpdateCompany (event) {\n      let data = {}\n      if (event.target.className === 'ProseMirror ProseMirror-focused') {\n        data = { description: event.target.innerHTML }\n        this.description_length = event.target.innerHTML.length\n      } else {\n        switch (event.target.name) {\n          case 'company_name':\n            data = { company_name: event.target.value }\n            break\n          case 'address':\n            data = { address: event.target.value }\n            break\n          case 'city':\n            data = { city: event.target.value }\n            break\n          case 'zip':\n            data = { zip: event.target.value }\n            break\n          case 'vat_id':\n            data = { vat_id: event.target.value }\n            break\n          case 'fiscal_code':\n            data = { fiscal_code: event.target.value }\n            break\n          default:\n            break\n        }\n      }\n      fetch(`/api/stores/${this.store_id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then((response) => {\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Aggiornato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n      })\n    },\n    async UpdateOpening () {\n      const response = await fetch(`/api/stores/${this.store_id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          opening_hours: JSON.stringify(this.CurrentOpeningHours)\n        })\n      })\n      return response\n    },\n    async UpdateLiving () {\n      const response = await fetch(`/api/stores/${this.store_id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          live_streaming_opening_hours: JSON.stringify(\n            this.CurrentLiveStreaming\n          )\n        })\n      })\n      return response\n    },\n    initialize (storeid) {\n      if (this.latitude && this.longitude) {\n        this.show_map = true\n        Vue.nextTick(() => {\n          // update map\n          const myIcon = L.icon({\n            iconUrl: this.publicPath + 'icons/favicon.png',\n            iconSize: [32, 32],\n            shadowSize: [38, 38], // size of the shadow\n            iconAnchor: [22, 16],\n            shadowAnchor: [4, 62],\n            popupAnchor: [-3, -16]\n          })\n          var marker = L.marker([this.latitude, this.longitude], {\n            icon: myIcon\n          })\n          var companyname = this.company_name\n          var map = L.map('map', {\n            dragging: !L.Browser.mobile,\n            tap: !L.Browser.mobile\n          }).setView([this.latitude, this.longitude], 17)\n          L.DomUtil.addClass(map._container, 'leaflet-crosshair')\n          let self = this\n          map.on('click', function (e) {\n            map.removeLayer(marker)\n            self.latitude = e.latlng.lat\n            self.longitude = e.latlng.lng\n            marker = L.marker([self.latitude, self.longitude], {\n              icon: myIcon\n            })\n            marker.addTo(map).bindPopup(companyname).openPopup()\n            fetch(`/api/stores/${storeid}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                latitude: e.latlng.lat,\n                longitude: e.latlng.lng\n              })\n            }).then((response) => {\n              if (response.status === 200) {\n                Vue.$toast.open({\n                  message: 'Aggiornato con successo!',\n                  type: 'success',\n                  position: 'top-left'\n                })\n              }\n            })\n          })\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution:\n              '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          }).addTo(map)\n          marker.addTo(map).bindPopup(companyname).openPopup()\n        })\n      }\n    },\n    async fetchStore (storeId) {\n      const response = await fetch('/api/stores/' + storeId, {\n        mode: 'no-cors',\n        headers: {\n          accept: 'application/json'\n        }\n      })\n      return response.json()\n    },\n    async fetchCategory () {\n      const response = await fetch('/api/categories', {\n        mode: 'no-cors',\n        headers: {\n          accept: 'application/json'\n        }\n      })\n      return response.json()\n    },\n    async fetchLink () {\n      const response = await fetch('/api/links', {\n        mode: 'no-cors',\n        headers: {\n          accept: 'application/json'\n        }\n      })\n      return response.json()\n    },\n    async AddCategory (addcategory) {\n      const response = await fetch(\n        `/api/stores/${this.store_id}/categories/${addcategory}`,\n        {\n          method: 'POST',\n          mode: 'no-cors',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json'\n          }\n        }\n      )\n      return response\n    },\n    async MainCategory (maincategory) {\n      const response = await fetch(\n        `/api/stores/${this.store_id}/categories/${maincategory}/main`,\n        {\n          method: 'POST',\n          mode: 'no-cors',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json'\n          }\n        }\n      )\n      return response\n    },\n    async DeleteCategory (deletecategory) {\n      const response = await fetch(\n        `/api/stores/${this.store_id}/categories/${deletecategory}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json'\n          }\n        }\n      )\n      return response\n    },\n    async AddLink () {\n      const response = await fetch(\n        `/api/stores/${this.store_id}/links/${this.addlink}`,\n        {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json',\n            accept: 'application/json'\n          },\n          body: JSON.stringify({ url: this.addlinkurl })\n        }\n      )\n      return response.json()\n    },\n    async DeleteLink (id) {\n      if (confirm('Vuoi rimuovere questa categoria?')) {\n        for (let i in this.CurrentLinks) {\n          if (this.CurrentLinks[i].id === id) {\n            this.CurrentLinks.splice(i, 1)\n          }\n        }\n        const response = await fetch(\n          `/api/stores/${this.store_id}/links/${id}`,\n          {\n            method: 'POST',\n            mode: 'no-cors',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }\n        )\n        if (response.status === 200) {\n          Vue.$toast.open({\n            message: 'Eliminato con successo!',\n            type: 'success',\n            position: 'top-left'\n          })\n        }\n        return response\n      }\n    },\n    onCategoryChange (currentcategory) {\n      this.Categories.forEach((category) => {\n        if (category.id === currentcategory) {\n          this.categoryimg = category.image\n        }\n      })\n    },\n    showLinkMenu (attrs) {\n      this.linkUrl = attrs.href\n      this.linkMenuIsActive = true\n      this.$nextTick(() => {\n        this.$refs.linkInput.focus()\n      })\n    },\n    hideLinkMenu () {\n      this.linkUrl = null\n      this.linkMenuIsActive = false\n    },\n    setLinkUrl (command, url) {\n      command({ href: url })\n      this.hideLinkMenu()\n    }\n  },\n  mounted: function () {\n    this.reset()\n    this.store_id = this.$route.params.id\n    this.fetchStore(this.store_id).then((data) => {\n      this.store = data\n      this.description_length = data.description.length\n      this.editor.setContent(data.description)\n      if (data.latitude != null) this.latitude = data.latitude\n      if (data.latitude != null) this.longitude = data.longitude\n      this.company_name = data.company_name\n      this.logo_id = data.logo_id\n      this.CurrentLinks = data.links\n      if (data.opening_hours != null) {\n        this.CurrentOpeningHours = data.opening_hours\n      }\n      if (data.live_streaming_opening_hours != null) {\n        this.CurrentLiveStreaming = data.live_streaming_opening_hours\n      }\n      this.initialize(this.store_id)\n      for (let category in data.categories) {\n        let star = 'unfilled'\n        if (data.main_category !== null) {\n          if (category === data.main_category.display) {\n            star = 'filled'\n          }\n        }\n        this.CurrentCategories.push({\n          key: category,\n          text: category,\n          value: data.categories[category],\n          star: star\n        })\n      }\n      let i = 0\n      for (let url = 0; url < data.images.length; url++) {\n        let classname = ''; let style = '', logoimg=''\n        if (data.images[url] != null) {\n          if (this.ImgUrls.length === 0) {\n            classname = 'carousel-item active'\n          } else {\n            classname = 'carousel-item'\n          }\n          if (data.images[url] === data.logo_id) {\n            style = 'opacity: 0.8; border-style:double; border-color:gray'\n            logoimg = `${this.publicPath}icons/filled.png`\n          } else {\n            style = 'opacity: 0.4'\n          }\n          this.ImgUrls.push({\n            key: i,\n            logoimg: logoimg,\n            id: data.images[url],\n            url: `/api/stores/${this.store_id}/images/${data.images[url]}`,\n            classname: classname,\n            style: style\n          })\n          i++\n        }\n      }\n      console.log( this.ImgUrls)\n    })\n    this.fetchCategory().then((data) => {\n      this.Categories = data\n    })\n    this.fetchLink().then((data) => {\n      this.Links = data\n    })\n  }\n}\n</script>\n"],"sourceRoot":"src/pages"}]}