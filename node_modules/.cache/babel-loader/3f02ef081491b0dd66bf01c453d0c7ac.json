{"remainingRequest":"D:\\working\\Vue\\zuly\\node_modules\\babel-loader\\lib\\index.js!D:\\working\\Vue\\zuly\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\working\\Vue\\zuly\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\Vue\\zuly\\src\\pages\\Store.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\Vue\\zuly\\src\\pages\\Store.vue","mtime":1603605138380},{"path":"D:\\working\\Vue\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEljb24gZnJvbSAnQ29tcG9uZW50cy9JY29uJzsKaW1wb3J0IHsgRWRpdG9yLCBFZGl0b3JDb250ZW50LCBFZGl0b3JNZW51QnViYmxlIH0gZnJvbSAndGlwdGFwJzsKaW1wb3J0IHsgQmxvY2txdW90ZSwgQnVsbGV0TGlzdCwgQ29kZUJsb2NrLCBIYXJkQnJlYWssIEhlYWRpbmcsIExpc3RJdGVtLCBPcmRlcmVkTGlzdCwgVG9kb0l0ZW0sIFRvZG9MaXN0LCBCb2xkLCBDb2RlLCBJdGFsaWMsIExpbmssIEhpc3RvcnkgfSBmcm9tICd0aXB0YXAtZXh0ZW5zaW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFZGl0b3JDb250ZW50LAogICAgRWRpdG9yTWVudUJ1YmJsZSwKICAgIEljb24KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmVfaWQ6IG51bGwsCiAgICAgIHN0b3JlOiB7fSwKICAgICAgZWRpdG9yOiBuZXcgRWRpdG9yKHsKICAgICAgICBleHRlbnNpb25zOiBbbmV3IEJsb2NrcXVvdGUoKSwgbmV3IEJ1bGxldExpc3QoKSwgbmV3IENvZGVCbG9jaygpLCBuZXcgSGFyZEJyZWFrKCksIG5ldyBIZWFkaW5nKHsKICAgICAgICAgIGxldmVsczogWzEsIDIsIDNdCiAgICAgICAgfSksIG5ldyBMaXN0SXRlbSgpLCBuZXcgT3JkZXJlZExpc3QoKSwgbmV3IFRvZG9JdGVtKCksIG5ldyBUb2RvTGlzdCgpLCBuZXcgTGluaygpLCBuZXcgQm9sZCgpLCBuZXcgQ29kZSgpLCBuZXcgSXRhbGljKCksIG5ldyBIaXN0b3J5KCldLAogICAgICAgIGNvbnRlbnQ6IGAKICAgICAgICAgIDxoMj4KICAgICAgICAgICAgTGlua3MKICAgICAgICAgIDwvaDI+CiAgICAgICAgICA8cD4KICAgICAgICAgICAgVHJ5IHRvIGFkZCBzb21lIGxpbmtzIHRvIHRoZSA8YSBocmVmPSJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Xb3JsZF9XaWRlX1dlYiI+d29ybGQgd2lkZSB3ZWI8L2E+LiBCeSBkZWZhdWx0IGV2ZXJ5IGxpbmsgd2lsbCBnZXQgYSA8Y29kZT5yZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3ciPC9jb2RlPiBhdHRyaWJ1dGUuCiAgICAgICAgICA8L3A+CiAgICAgICAgYAogICAgICB9KSwKICAgICAgbGlua1VybDogbnVsbCwKICAgICAgbGlua01lbnVJc0FjdGl2ZTogZmFsc2UKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgZmV0Y2hTdG9yZShzdG9yZUlkKSB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3RvcmVzLycgKyBzdG9yZUlkLCB7CiAgICAgICAgbW9kZTogJ25vLWNvcnMnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdhY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSwKCiAgICBzaG93TGlua01lbnUoYXR0cnMpIHsKICAgICAgdGhpcy5saW5rVXJsID0gYXR0cnMuaHJlZjsKICAgICAgdGhpcy5saW5rTWVudUlzQWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMubGlua0lucHV0LmZvY3VzKCk7CiAgICAgIH0pOwogICAgfSwKCiAgICBoaWRlTGlua01lbnUoKSB7CiAgICAgIHRoaXMubGlua1VybCA9IG51bGw7CiAgICAgIHRoaXMubGlua01lbnVJc0FjdGl2ZSA9IGZhbHNlOwogICAgfSwKCiAgICBzZXRMaW5rVXJsKGNvbW1hbmQsIHVybCkgewogICAgICBjb21tYW5kKHsKICAgICAgICBocmVmOiB1cmwKICAgICAgfSk7CiAgICAgIHRoaXMuaGlkZUxpbmtNZW51KCk7CiAgICB9CgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zdG9yZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHRoaXMuZmV0Y2hTdG9yZSh0aGlzLnN0b3JlX2lkKS50aGVuKGRhdGEgPT4gewogICAgICB0aGlzLnN0b3JlID0gZGF0YTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["Store.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,IAAA,MAAA,iBAAA;AACA,SAAA,MAAA,EAAA,aAAA,EAAA,gBAAA,QAAA,QAAA;AACA,SACA,UADA,EAEA,UAFA,EAGA,SAHA,EAIA,SAJA,EAKA,OALA,EAMA,QANA,EAOA,WAPA,EAQA,QARA,EASA,QATA,EAUA,IAVA,EAWA,IAXA,EAYA,MAZA,EAaA,IAbA,EAcA,OAdA,QAeA,mBAfA;AAgBA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aADA;AAEA,IAAA,gBAFA;AAGA,IAAA;AAHA,GADA;;AAMA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,IAAA,MAAA,CAAA;AACA,QAAA,UAAA,EAAA,CACA,IAAA,UAAA,EADA,EAEA,IAAA,UAAA,EAFA,EAGA,IAAA,SAAA,EAHA,EAIA,IAAA,SAAA,EAJA,EAKA,IAAA,OAAA,CAAA;AAAA,UAAA,MAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AAAA,SAAA,CALA,EAMA,IAAA,QAAA,EANA,EAOA,IAAA,WAAA,EAPA,EAQA,IAAA,QAAA,EARA,EASA,IAAA,QAAA,EATA,EAUA,IAAA,IAAA,EAVA,EAWA,IAAA,IAAA,EAXA,EAYA,IAAA,IAAA,EAZA,EAaA,IAAA,MAAA,EAbA,EAcA,IAAA,OAAA,EAdA,CADA;AAiBA,QAAA,OAAA,EAAA;;;;;;;;AAjBA,OAAA,CAHA;AA6BA,MAAA,OAAA,EAAA,IA7BA;AA8BA,MAAA,gBAAA,EAAA;AA9BA,KAAA;AAgCA,GAvCA;;AAwCA,EAAA,OAAA,EAAA;AACA,UAAA,UAAA,CAAA,OAAA,EAAA;AACA,YAAA,QAAA,GAAA,MAAA,KAAA,CAAA,iBAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,OAAA,EAAA;AACA,oBAAA;AADA;AAFA,OAAA,CAAA;AAOA,aAAA,QAAA,CAAA,IAAA,EAAA;AACA,KAVA;;AAWA,IAAA,YAAA,CAAA,KAAA,EAAA;AACA,WAAA,OAAA,GAAA,KAAA,CAAA,IAAA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,MAAA;AACA,aAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,OAFA;AAGA,KAjBA;;AAkBA,IAAA,YAAA,GAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,gBAAA,GAAA,KAAA;AACA,KArBA;;AAsBA,IAAA,UAAA,CAAA,OAAA,EAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,WAAA,YAAA;AACA;;AAzBA,GAxCA;AAmEA,EAAA,OAAA,EAAA,YAAA;AACA,SAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,SAAA,UAAA,CAAA,KAAA,QAAA,EAAA,IAAA,CAAA,IAAA,IAAA;AAAA,WAAA,KAAA,GAAA,IAAA;AAAA,KAAA;AACA;AAtEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container mt-3\">\r\n    <small class=\"text-muted\">{{ $options.__file }}</small>\r\n    <h1 class=\"text-primary font-weight-bold\">\r\n      <router-link to=\"/\"><img src=\"~bootstrap-icons/icons/caret-left-fill.svg\" alt=\"caret icon\" width=\"30\" height=\"30\"></router-link>\r\n      Vetrina digitale di: {{ store.company_name }}\r\n    </h1>\r\n    <hr/>\r\n    <div class=\"row alert-danger\">TODO</div>\r\n    <div class=\"row m-3\">\r\n      <div class=\"col\">\r\n        <pre>{{ store }}</pre>\r\n        <div class=\"editor\">\r\n          <editor-menu-bubble class=\"menububble\" :editor=\"editor\" @hide=\"hideLinkMenu\" v-slot=\"{ commands, isActive, getMarkAttrs, menu }\">\r\n            <div\r\n              class=\"menububble\"\r\n              :class=\"{ 'is-active': menu.isActive }\"\r\n              :style=\"`left: ${menu.left}px; bottom: ${menu.bottom}px;`\"\r\n            >\r\n\r\n              <form class=\"menububble__form\" v-if=\"linkMenuIsActive\" @submit.prevent=\"setLinkUrl(commands.link, linkUrl)\">\r\n                <input class=\"menububble__input\" type=\"text\" v-model=\"linkUrl\" placeholder=\"https://\" ref=\"linkInput\" @keydown.esc=\"hideLinkMenu\"/>\r\n                <button class=\"menububble__button\" @click=\"setLinkUrl(commands.link, null)\" type=\"button\">\r\n                  <icon name=\"remove\" />\r\n                </button>\r\n              </form>\r\n\r\n              <template v-else>\r\n                <button\r\n                  class=\"menububble__button\"\r\n                  @click=\"showLinkMenu(getMarkAttrs('link'))\"\r\n                  :class=\"{ 'is-active': isActive.link() }\"\r\n                >\r\n                  <span>{{ isActive.link() ? 'Update Link' : 'Add Link'}}</span>\r\n                  <icon name=\"link\" />\r\n                </button>\r\n              </template>\r\n\r\n            </div>\r\n          </editor-menu-bubble>\r\n\r\n          <editor-content class=\"editor__content\" :editor=\"editor\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Icon from 'Components/Icon'\r\nimport { Editor, EditorContent, EditorMenuBubble } from 'tiptap'\r\nimport {\r\n  Blockquote,\r\n  BulletList,\r\n  CodeBlock,\r\n  HardBreak,\r\n  Heading,\r\n  ListItem,\r\n  OrderedList,\r\n  TodoItem,\r\n  TodoList,\r\n  Bold,\r\n  Code,\r\n  Italic,\r\n  Link,\r\n  History,\r\n} from 'tiptap-extensions'\r\nexport default {\r\n  components: {\r\n    EditorContent,\r\n    EditorMenuBubble,\r\n    Icon,\r\n  },\r\n  data () {\r\n    return {\r\n      store_id: null,\r\n      store: {},\r\n      editor: new Editor({\r\n        extensions: [\r\n          new Blockquote(),\r\n          new BulletList(),\r\n          new CodeBlock(),\r\n          new HardBreak(),\r\n          new Heading({ levels: [1, 2, 3] }),\r\n          new ListItem(),\r\n          new OrderedList(),\r\n          new TodoItem(),\r\n          new TodoList(),\r\n          new Link(),\r\n          new Bold(),\r\n          new Code(),\r\n          new Italic(),\r\n          new History(),\r\n        ],\r\n        content: `\r\n          <h2>\r\n            Links\r\n          </h2>\r\n          <p>\r\n            Try to add some links to the <a href=\"https://en.wikipedia.org/wiki/World_Wide_Web\">world wide web</a>. By default every link will get a <code>rel=\"noopener noreferrer nofollow\"</code> attribute.\r\n          </p>\r\n        `,\r\n      }),\r\n      linkUrl: null,\r\n      linkMenuIsActive: false,\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchStore (storeId) {\r\n      const response = await fetch('/api/stores/' + storeId, {\r\n        mode: 'no-cors',\r\n        headers: {\r\n          'accept': 'application/json'\r\n        }\r\n      }\r\n      )\r\n      return response.json()\r\n    },\r\n    showLinkMenu(attrs) {\r\n      this.linkUrl = attrs.href\r\n      this.linkMenuIsActive = true\r\n      this.$nextTick(() => {\r\n        this.$refs.linkInput.focus()\r\n      })\r\n    },\r\n    hideLinkMenu() {\r\n      this.linkUrl = null\r\n      this.linkMenuIsActive = false\r\n    },\r\n    setLinkUrl(command, url) {\r\n      command({ href: url })\r\n      this.hideLinkMenu()\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.store_id = this.$route.params.id\r\n    this.fetchStore(this.store_id).then(data => { this.store = data })\r\n  }\r\n}\r\n</script>"],"sourceRoot":"src/pages"}]}