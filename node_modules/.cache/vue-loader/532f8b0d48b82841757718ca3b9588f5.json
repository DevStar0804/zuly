{"remainingRequest":"D:\\working\\Vue\\zuly\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\Vue\\zuly\\src\\pages\\Store.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\Vue\\zuly\\src\\pages\\Store.vue","mtime":1603893439859},{"path":"D:\\working\\Vue\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\Vue\\zuly\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCB7IEVkaXRvciwgRWRpdG9yQ29udGVudCwgRWRpdG9yTWVudUJhciB9IGZyb20gJ3RpcHRhcCcNCmltcG9ydCB7DQogIEJsb2NrcXVvdGUsDQogIEJ1bGxldExpc3QsDQogIENvZGVCbG9jaywNCiAgSGFyZEJyZWFrLA0KICBIZWFkaW5nLA0KICBIb3Jpem9udGFsUnVsZSwNCiAgTGlzdEl0ZW0sDQogIE9yZGVyZWRMaXN0LA0KICBUb2RvSXRlbSwNCiAgVG9kb0xpc3QsDQogIEJvbGQsDQogIENvZGUsDQogIEl0YWxpYywNCiAgTGluaywNCiAgU3RyaWtlLA0KICBVbmRlcmxpbmUsDQogIEhpc3RvcnkNCn0gZnJvbSAndGlwdGFwLWV4dGVuc2lvbnMnDQppbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcycNCmltcG9ydCAnJw0KaW1wb3J0IEwgZnJvbSAnbGVhZmxldCcNClZ1ZS51c2UoYXhpb3MpDQpjb25zdCBTVEFUVVNfSU5JVElBTCA9IDA7IGNvbnN0IFNUQVRVU19TQVZJTkcgPSAxOyBjb25zdCBTVEFUVVNfU1VDQ0VTUyA9IDI7IGNvbnN0IFNUQVRVU19GQUlMRUQgPSAzDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBFZGl0b3JDb250ZW50LA0KICAgIEVkaXRvck1lbnVCYXIsDQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBzdG9yZV9pZDogbnVsbCwNCiAgICAgIHN0b3JlOiB7fSwNCiAgICAgIGVkaXRvcjogbmV3IEVkaXRvcih7DQogICAgICAgIG9uQmx1cjogKHtldmVudH0pPT57DQogICAgICAgICAgdGhpcy5VcGRhdGVDb21wYW55KGV2ZW50KQ0KICAgICAgICB9LA0KICAgICAgICBleHRlbnNpb25zOiBbDQogICAgICAgICAgbmV3IEJsb2NrcXVvdGUoKSwNCiAgICAgICAgICBuZXcgQnVsbGV0TGlzdCgpLA0KICAgICAgICAgIG5ldyBDb2RlQmxvY2soKSwNCiAgICAgICAgICBuZXcgSGFyZEJyZWFrKCksDQogICAgICAgICAgbmV3IEhlYWRpbmcoeyBsZXZlbHM6IFsxLCAyLCAzXSB9KSwNCiAgICAgICAgICBuZXcgSG9yaXpvbnRhbFJ1bGUoKSwNCiAgICAgICAgICBuZXcgTGlzdEl0ZW0oKSwNCiAgICAgICAgICBuZXcgT3JkZXJlZExpc3QoKSwNCiAgICAgICAgICBuZXcgVG9kb0l0ZW0oKSwNCiAgICAgICAgICBuZXcgVG9kb0xpc3QoKSwNCiAgICAgICAgICBuZXcgTGluaygpLA0KICAgICAgICAgIG5ldyBCb2xkKCksDQogICAgICAgICAgbmV3IENvZGUoKSwNCiAgICAgICAgICBuZXcgSXRhbGljKCksDQogICAgICAgICAgbmV3IFN0cmlrZSgpLA0KICAgICAgICAgIG5ldyBVbmRlcmxpbmUoKSwNCiAgICAgICAgICBuZXcgSGlzdG9yeSgpDQogICAgICAgIF0sDQogICAgICAgIGNvbnRlbnQ6ICcnDQogICAgICB9KSwNCiAgICAgIEN1cnJlbnRDYXRlZ29yaWVzOiBbXSwNCiAgICAgIENhdGVnb3JpZXM6IFtdLA0KICAgICAgY3VycmVudGNhdGVnb3J5OiAnJywNCiAgICAgIGFkZGNhdGVnb3J5OiAnJywNCiAgICAgIG1haW5jYXRlZ29yeTogJycsDQogICAgICBkZWxldGVjYXRlZ29yeTogJycsDQogICAgICBjYXRlZ29yeWltZzogJycsDQogICAgICBJbWdVcmxzOiBbXSwNCiAgICAgIGRlbGV0ZWltZzogJycsDQogICAgICBjb21wYW55X25hbWU6IFN0cmluZywNCiAgICAgIGxhdGl0dWRlOiBOdW1iZXIsDQogICAgICBsb25naXR1ZGU6IE51bWJlciwNCiAgICAgIHB1YmxpY1BhdGg6IHByb2Nlc3MuZW52LkJBU0VfVVJMLA0KICAgICAgc2hvd19tYXA6IGZhbHNlLA0KICAgICAgQ3VycmVudExpbmtzOiBbXSwNCiAgICAgIExpbmtzOiBbXSwNCiAgICAgIGFkZGxpbms6ICcnLA0KICAgICAgYWRkbGlua3VybDogJycsDQogICAgICB1cGxvYWRlZEZpbGVzOiBbXSwNCiAgICAgIHVwbG9hZEVycm9yOiBudWxsLA0KICAgICAgY3VycmVudFN0YXR1czogbnVsbCwNCiAgICAgIHVwbG9hZEZpZWxkTmFtZTogJ2NvbnRlbnRzJywNCiAgICAgIHdlZWs6IFN0cmluZywNCiAgICAgIE9wZW5pbmdIb3VyczogW1tdXSwNCiAgICAgIE9wZW5pbmdIb3VyczE6IFtdLA0KICAgICAgTGl2ZVN0cmVhbWluZzogW10sDQogICAgfQ0KICB9LA0KICBiZWZvcmVEZXN0cm95ICgpIHsNCiAgICB0aGlzLmVkaXRvci5kZXN0cm95KCkNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB3ZWVrOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy53ZWVrID09PSAnMCcpIHsNCiAgICAgICAgLy8gdGhpcy5PcGVuaW5nSG91cnMgPSBzdG9yZS5vcGVuaW5nX2hvdXJzW3RoaXMud2Vla10NCiAgICAgICAgdGhpcy5PcGVuaW5nSG91cnMgPSB0aGlzLk9wZW5pbmdIb3VyczFbdGhpcy53ZWVrXQ0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLk9wZW5pbmdIb3Vyc1swXSkNCiAgICAgIH0NCiAgICAgIHN3aXRjaCAodGhpcy53ZWVrKSB7DQogICAgICAgIGNhc2UgJzAnOiB0aGlzLk9wZW5pbmdIb3VycyA9IHRoaXMuT3BlbmluZ0hvdXJzMVt0aGlzLndlZWtdOyBicmVhaw0KICAgICAgICBjYXNlICcxJzogdGhpcy5PcGVuaW5nSG91cnMgPSB0aGlzLk9wZW5pbmdIb3VyczFbdGhpcy53ZWVrXTsgYnJlYWsNCiAgICAgICAgY2FzZSAnMic6IHRoaXMuT3BlbmluZ0hvdXJzID0gdGhpcy5PcGVuaW5nSG91cnMxW3RoaXMud2Vla107IGJyZWFrDQogICAgICAgIGNhc2UgJzMnOiB0aGlzLk9wZW5pbmdIb3VycyA9IHRoaXMuT3BlbmluZ0hvdXJzMVt0aGlzLndlZWtdOyBicmVhaw0KICAgICAgICBjYXNlICc0JzogdGhpcy5PcGVuaW5nSG91cnMgPSB0aGlzLk9wZW5pbmdIb3VyczFbdGhpcy53ZWVrXTsgYnJlYWsNCiAgICAgICAgY2FzZSAnNSc6IHRoaXMuT3BlbmluZ0hvdXJzID0gdGhpcy5PcGVuaW5nSG91cnMxW3RoaXMud2Vla107IGJyZWFrDQogICAgICAgIGNhc2UgJzYnOiB0aGlzLk9wZW5pbmdIb3VycyA9IHRoaXMuT3BlbmluZ0hvdXJzMVt0aGlzLndlZWtdOyBicmVhaw0KICAgICAgICBkZWZhdWx0OiBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkY2F0ZWdvcnk6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLkN1cnJlbnRDYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLk1haW5DYXRlZ29yeSgpDQogICAgICB9DQogICAgICB0aGlzLkFkZENhdGVnb3J5KCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgaWYgKGRhdGEgPT09ICdvaycpIHsNCiAgICAgICAgICB0aGlzLkNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHsNCiAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gdGhpcy5hZGRjYXRlZ29yeSkgew0KICAgICAgICAgICAgICBhbGVydCgnQWdnaXVudGkgaSAnICsgY2F0ZWdvcnkuZGlzcGxheSArICcgY29uIHN1Y2Nlc3NvIScpDQogICAgICAgICAgICAgIHRoaXMuQ3VycmVudENhdGVnb3JpZXMucHVzaCh7DQogICAgICAgICAgICAgICAga2V5OiBjYXRlZ29yeS5pZCwNCiAgICAgICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsDQogICAgICAgICAgICAgICAgdGV4dDogY2F0ZWdvcnkuZGlzcGxheQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBtYWluY2F0ZWdvcnk6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuTWFpbkNhdGVnb3J5KCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgaWYgKGRhdGEgPT09ICdvaycpIHsNCiAgICAgICAgICB0aGlzLkNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHsNCiAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gdGhpcy5tYWluY2F0ZWdvcnkpIHsNCiAgICAgICAgICAgICAgYWxlcnQoDQogICAgICAgICAgICAgICAgJ1NlbGV6aW9uYXRvIGNvbiBzdWNjZXNzbyBpICcgKw0KICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuZGlzcGxheSArDQogICAgICAgICAgICAgICAgICAnIGNvbWUgY2F0ZWdvcmlhIHByaW5jaXBhbGUhJw0KICAgICAgICAgICAgICApDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZWNhdGVnb3J5OiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAoY29uZmlybSgnVnVvaSByaW11b3ZlcmUgcXVlc3RhIGNhdGVnb3JpYT8nKSkgew0KICAgICAgICB0aGlzLkRlbGV0ZUNhdGVnb3J5KCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy5DYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7DQogICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gdGhpcy5kZWxldGVjYXRlZ29yeSkgew0KICAgICAgICAgICAgICAgIGFsZXJ0KCdFbGltaW5hdG8gY29uIHN1Y2Nlc3NvIGkgJyArIGNhdGVnb3J5LmRpc3BsYXkgKyAnIScpDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzKSB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5DdXJyZW50Q2F0ZWdvcmllc1tpXS52YWx1ZSA9PT0gdGhpcy5kZWxldGVjYXRlZ29yeSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLkN1cnJlbnRDYXRlZ29yaWVzLnNwbGljZShpLCAxKQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBhZGRsaW5rdXJsOiBmdW5jdGlvbiAoKSB7DQogICAgICBsZXQgZmxhZyA9IHRydWUNCiAgICAgIHRoaXMuQ3VycmVudExpbmtzLmZvckVhY2gobGluayA9PiB7DQogICAgICAgIGlmICh0aGlzLmFkZGxpbmsgPT09IGxpbmsubGlua19pZCkgew0KICAgICAgICAgIGZsYWcgPSBmYWxzZQ0KICAgICAgICAgIGFsZXJ0KCdJbCAnICsgbGluay5kaXNwbGF5ICsgJyBlc2lzdGUgZ2nDoCEnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgaWYgKGZsYWcpIHsNCiAgICAgICAgdGhpcy5BZGRMaW5rKCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICBpZiAoZGF0YSkgew0KICAgICAgICAgICAgdGhpcy5MaW5rcy5mb3JFYWNoKGxpbmsgPT4gew0KICAgICAgICAgICAgICBpZiAodGhpcy5hZGRsaW5rID09PSBsaW5rLmlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5DdXJyZW50TGlua3MucHVzaCh7DQogICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCwNCiAgICAgICAgICAgICAgICAgIGxpbmtfaWQ6IGxpbmsuaWQsDQogICAgICAgICAgICAgICAgICBkaXNwbGF5OiBsaW5rLmRpc3BsYXksDQogICAgICAgICAgICAgICAgICBpbWFnZTogbGluay5pbWFnZSwNCiAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5hZGRsaW5rdXJsDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBhbGVydCgnQWdnaXVudG8gY29uIHN1Y2Nlc3NvIGlsICcgKyBsaW5rLmRpc3BsYXkgKyAnIScpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBpc0luaXRpYWwgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX0lOSVRJQUwNCiAgICB9LA0KICAgIGlzU2F2aW5nICgpIHsNCiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0dXMgPT09IFNUQVRVU19TQVZJTkcNCiAgICB9LA0KICAgIGlzU3VjY2VzcyAoKSB7DQogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdHVzID09PSBTVEFUVVNfU1VDQ0VTUw0KICAgIH0sDQogICAgaXNGYWlsZWQgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX0ZBSUxFRA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJlc2V0ICgpIHsNCiAgICAgIC8vIHJlc2V0IGZvcm0gdG8gaW5pdGlhbCBzdGF0ZQ0KICAgICAgdGhpcy5jdXJyZW50U3RhdHVzID0gU1RBVFVTX0lOSVRJQUwNCiAgICAgIHRoaXMudXBsb2FkZWRGaWxlcyA9IFtdDQogICAgICB0aGlzLnVwbG9hZEVycm9yID0gbnVsbA0KICAgIH0sDQogICAgc2F2ZSAoZm9ybURhdGEpIHsNCiAgICAgIC8vIHVwbG9hZCBkYXRhIHRvIHRoZSBzZXJ2ZXINCiAgICAgIHRoaXMuY3VycmVudFN0YXR1cyA9IFNUQVRVU19TQVZJTkcNCg0KICAgICAgdGhpcy51cGxvYWQoZm9ybURhdGEpDQogICAgICAgIC50aGVuKHggPT4gew0KICAgICAgICAgIHRoaXMudXBsb2FkZWRGaWxlcyA9IFtdLmNvbmNhdCh4KQ0KICAgICAgICAgIHRoaXMuY3VycmVudFN0YXR1cyA9IFNUQVRVU19TVUNDRVNTDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIHRoaXMudXBsb2FkRXJyb3IgPSBlcnIucmVzcG9uc2UNCiAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0dXMgPSBTVEFUVVNfRkFJTEVEDQogICAgICAgIH0pDQogICAgfSwNCiAgICBmaWxlc0NoYW5nZSAoZmllbGROYW1lLCBmaWxlTGlzdCkgew0KICAgICAgLy8gaGFuZGxlIGZpbGUgY2hhbmdlcw0KICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQ0KDQogICAgICBpZiAoIWZpbGVMaXN0Lmxlbmd0aCkgcmV0dXJuDQoNCiAgICAgIGZvcm1EYXRhLmFwcGVuZChmaWVsZE5hbWUsIGZpbGVMaXN0WzBdLCBmaWxlTGlzdFswXS5uYW1lKQ0KDQogICAgICAvLyBzYXZlIGl0DQogICAgICB0aGlzLnNhdmUoZm9ybURhdGEpDQogICAgfSwNCiAgICB1cGxvYWQgKGZvcm1EYXRhKSB7DQogICAgICBjb25zdCB1cmwgPSBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXNgDQogICAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhKQ0KICAgICAgLy8gZ2V0IGRhdGENCiAgICAgICAgLnRoZW4oeCA9PiB7DQogICAgICAgICAgdGhpcy5zYXZlaW1hZ2UoeC5kYXRhLmlkLCBmb3JtRGF0YSkNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIHNhdmVpbWFnZSAoaWQsIGZvcm1EYXRhKSB7DQogICAgICByZXR1cm4gYXhpb3MucG9zdChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXMvJHtpZH1gLA0KICAgICAgICBmb3JtRGF0YSwNCiAgICAgICAgew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdtaW1ldHlwZSc6IGZvcm1EYXRhLmdldEFsbCgnY29udGVudHMnKVswXS50eXBlDQogICAgICAgICAgfQ0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgIGlmICh0aGlzLkltZ1VybHMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICB0aGlzLkltZ1VybHMucHVzaCh7DQogICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZCwNCiAgICAgICAgICAgICAgdXJsOiBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXMvJHtyZXMuZGF0YS5pZH1gLA0KICAgICAgICAgICAgICBjbGFzc25hbWU6ICdjYXJvdXNlbC1pdGVtIGFjdGl2ZScNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBhbGVydCgnQWdnaXVudG8gY29uIHN1Y2Nlc3NvIScpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuSW1nVXJscy5wdXNoKHsNCiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmlkLA0KICAgICAgICAgICAgICB1cmw6IGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2ltYWdlcy8ke3Jlcy5kYXRhLmlkfWAsDQogICAgICAgICAgICAgIGNsYXNzbmFtZTogJ2Nhcm91c2VsLWl0ZW0nDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgYWxlcnQoJ0FnZ2l1bnRvIGNvbiBzdWNjZXNzbyEnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFzeW5jIERlbGV0ZUltYWdlIChpZCkgew0KICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9pbWFnZXMvJHtpZH1gLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBtb2RlOiAnbm8tY29ycycsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgLy8gZm9yKGxldCBpIGluIHRoaXMuSW1nVXJscyl7DQogICAgICAgIC8vICAgaWYodGhpcy5JbWdVcmxzW2ldLmlkID09IGlkKXsNCiAgICAgICAgLy8gICAgIHRoaXMuSW1nVXJscy5zcGxpY2UoaSwxKQ0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gfQ0KICAgICAgICBhbGVydCgnRWxpbWluYXRvIGNvbiBzdWNjZXNzbyEnKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlc3BvbnNlDQogICAgfSwNCiAgICBhc3luYyBVcGRhdGVDb21wYW55IChldmVudCkgew0KICAgICAgbGV0IGRhdGEgPSB7fQ0KICAgICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gIlByb3NlTWlycm9yIFByb3NlTWlycm9yLWZvY3VzZWQiKXsNCiAgICAgICAgZGF0YSA9IHsgJ2Rlc2NyaXB0aW9uJzogZXZlbnQudGFyZ2V0LmlubmVyVGV4dH0NCiAgICAgIH0NCiAgICAgIGVsc2V7DQogICAgICAgIHN3aXRjaCAoZXZlbnQudGFyZ2V0Lm5hbWUpIHsNCiAgICAgICAgICBjYXNlICdjb21wYW55X25hbWUnOiBkYXRhID0geyAnY29tcGFueV9uYW1lJzogZXZlbnQudGFyZ2V0LnZhbHVlIH07IGJyZWFrDQogICAgICAgICAgY2FzZSAnYWRkcmVzcyc6IGRhdGEgPSB7ICdhZGRyZXNzJzogZXZlbnQudGFyZ2V0LnZhbHVlIH07IGJyZWFrDQogICAgICAgICAgY2FzZSAnY2l0eSc6IGRhdGEgPSB7ICdjaXR5JzogZXZlbnQudGFyZ2V0LnZhbHVlIH07IGJyZWFrDQogICAgICAgICAgY2FzZSAnemlwJzogZGF0YSA9IHsgJ3ppcCc6IGV2ZW50LnRhcmdldC52YWx1ZSB9OyBicmVhaw0KICAgICAgICAgIGNhc2UgJ3ZhdF9pZCc6IGRhdGEgPSB7ICd2YXRfaWQnOiBldmVudC50YXJnZXQudmFsdWUgfTsgYnJlYWsNCiAgICAgICAgICBjYXNlICdmaXNjYWxfY29kZSc6IGRhdGEgPSB7ICdmaXNjYWxfY29kZSc6IGV2ZW50LnRhcmdldC52YWx1ZSB9OyBicmVhaw0KICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGZldGNoKGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9YCwgew0KICAgICAgICBtZXRob2Q6ICdQVVQnLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICB9LA0KICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgIGFsZXJ0KCdBZ2dpb3JuYXRvIGNvbiBzdWNjZXNzbyEnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMubGF0aXR1ZGUgJiYgdGhpcy5sb25naXR1ZGUpIHsNCiAgICAgICAgdGhpcy5zaG93X21hcCA9IHRydWUNCiAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAvLyB1cGRhdGUgbWFwDQogICAgICAgICAgY29uc3QgbXlJY29uID0gTC5pY29uKHsNCiAgICAgICAgICAgIGljb25Vcmw6IHRoaXMucHVibGljUGF0aCArICdpY29ucy9mYXZpY29uLnBuZycsDQogICAgICAgICAgICBpY29uU2l6ZTogWzMyLCAzMl0sDQogICAgICAgICAgICBzaGFkb3dTaXplOiBbMzgsIDM4XSwgLy8gc2l6ZSBvZiB0aGUgc2hhZG93DQogICAgICAgICAgICBpY29uQW5jaG9yOiBbMjIsIDk0XSwNCiAgICAgICAgICAgIHNoYWRvd0FuY2hvcjogWzQsIDYyXSwNCiAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbLTMsIC05MF0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIHZhciBtYXAgPSBMLm1hcCgnbWFwJywgew0KICAgICAgICAgICAgZHJhZ2dpbmc6ICFMLkJyb3dzZXIubW9iaWxlLA0KICAgICAgICAgICAgdGFwOiAhTC5Ccm93c2VyLm1vYmlsZQ0KICAgICAgICAgIH0pLnNldFZpZXcoW3RoaXMubGF0aXR1ZGUsIHRoaXMubG9uZ2l0dWRlXSwgMTcpDQogICAgICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywgew0KICAgICAgICAgICAgYXR0cmlidXRpb246DQogICAgICAgICAgICAgICcmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnDQogICAgICAgICAgfSkuYWRkVG8obWFwKQ0KICAgICAgICAgIEwubWFya2VyKFt0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZV0sIHsgaWNvbjogbXlJY29uIH0pDQogICAgICAgICAgICAuYWRkVG8obWFwKQ0KICAgICAgICAgICAgLmJpbmRQb3B1cCh0aGlzLmNvbXBhbnlfbmFtZSkNCiAgICAgICAgICAgIC5vcGVuUG9wdXAoKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZmV0Y2hTdG9yZSAoc3RvcmVJZCkgew0KICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdG9yZXMvJyArIHN0b3JlSWQsIHsNCiAgICAgICAgbW9kZTogJ25vLWNvcnMnLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICB9LA0KICAgIGFzeW5jIGZldGNoQ2F0ZWdvcnkgKCkgew0KICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYXRlZ29yaWVzJywgew0KICAgICAgICBtb2RlOiAnbm8tY29ycycsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgIH0sDQogICAgYXN5bmMgZmV0Y2hMaW5rICgpIHsNCiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbGlua3MnLCB7DQogICAgICAgIG1vZGU6ICduby1jb3JzJywNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgfSwNCiAgICBhc3luYyBBZGRDYXRlZ29yeSAoKSB7DQogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKA0KICAgICAgICBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9jYXRlZ29yaWVzLyR7dGhpcy5hZGRjYXRlZ29yeX1gLA0KICAgICAgICB7DQogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgbW9kZTogJ25vLWNvcnMnLA0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkNCiAgICB9LA0KICAgIGFzeW5jIE1haW5DYXRlZ29yeSAoKSB7DQogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKA0KICAgICAgICBgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9jYXRlZ29yaWVzLyR7dGhpcy5tYWluY2F0ZWdvcnl9L21haW5gLA0KICAgICAgICB7DQogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgbW9kZTogJ25vLWNvcnMnLA0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkNCiAgICB9LA0KICAgIGFzeW5jIERlbGV0ZUNhdGVnb3J5ICgpIHsNCiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goDQogICAgICAgIGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2NhdGVnb3JpZXMvJHt0aGlzLmRlbGV0ZWNhdGVnb3J5fWAsDQogICAgICAgIHsNCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICBtb2RlOiAnbm8tY29ycycsDQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICAgcmV0dXJuIHJlc3BvbnNlDQogICAgfSwNCiAgICBhc3luYyBBZGRMaW5rICgpIHsNCiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goDQogICAgICAgIGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2xpbmtzLyR7dGhpcy5hZGRsaW5rfWAsDQogICAgICAgIHsNCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICB9LA0KICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXJsOiB0aGlzLmFkZGxpbmt1cmwgfSkNCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgIH0sDQogICAgYXN5bmMgRGVsZXRlTGluayAoaWQpIHsNCiAgICAgIGlmIChjb25maXJtKCdWdW9pIHJpbXVvdmVyZSBxdWVzdGEgY2F0ZWdvcmlhPycpKSB7DQogICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5DdXJyZW50TGlua3MpIHsNCiAgICAgICAgICBpZiAodGhpcy5DdXJyZW50TGlua3NbaV0uaWQgPT09IGlkKSB7DQogICAgICAgICAgICB0aGlzLkN1cnJlbnRMaW5rcy5zcGxpY2UoaSwgMSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zdG9yZXMvJHt0aGlzLnN0b3JlX2lkfS9saW5rcy8ke2lkfWAsIHsNCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICBtb2RlOiAnbm8tY29ycycsDQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgICAgYWxlcnQoJ0VsaW1pbmF0byBjb24gc3VjY2Vzc28hJykNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzcG9uc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uQ2F0ZWdvcnlDaGFuZ2UgKGN1cnJlbnRjYXRlZ29yeSkgew0KICAgICAgdGhpcy5DYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7DQogICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gY3VycmVudGNhdGVnb3J5KSB7DQogICAgICAgICAgdGhpcy5jYXRlZ29yeWltZyA9IGNhdGVnb3J5LmltYWdlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7DQogICAgdGhpcy5yZXNldCgpDQogICAgdGhpcy5zdG9yZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIHRoaXMuZmV0Y2hTdG9yZSh0aGlzLnN0b3JlX2lkKS50aGVuKChkYXRhKSA9PiB7DQogICAgICB0aGlzLnN0b3JlID0gZGF0YQ0KICAgICAgdGhpcy5lZGl0b3Iuc2V0Q29udGVudChkYXRhLmRlc2NyaXB0aW9uKQ0KICAgICAgdGhpcy5sYXRpdHVkZSA9IGRhdGEubGF0aXR1ZGUNCiAgICAgIHRoaXMubG9uZ2l0dWRlID0gZGF0YS5sb25naXR1ZGUNCiAgICAgIHRoaXMuY29tcGFueV9uYW1lID0gZGF0YS5jb21wYW55X25hbWUNCiAgICAgIHRoaXMuQ3VycmVudExpbmtzID0gZGF0YS5saW5rcw0KICAgICAgdGhpcy5PcGVuaW5nSG91cnMxID0gew0KICAgICAgICAwOiBbWycwOTowMCcsICcxMjozMCddLCBbJzEzOjMwJywgJzE1OjAwJ10sIFsnMTY6MzAnLCAnMTk6MDAnXV0sDQogICAgICAgIDE6IFtbJzA5OjAwJywgJzEyOjMwJ10sIFsnMTY6MzAnLCAnMTk6MDAnXV0sDQogICAgICAgIDI6IFtbJzA5OjAwJywgJzEyOjMwJ10sIFsnMTY6MzAnLCAnMTk6MDAnXV0sDQogICAgICAgIDM6IFtbJzA5OjAwJywgJzEyOjMwJ10sIFsnMTY6MzAnLCAnMTk6MDAnXV0sDQogICAgICAgIDQ6IFtbJzA5OjAwJywgJzEyOjMwJ10sIFsnMTY6MzAnLCAnMTk6MDAnXV0NCiAgICAgIH0NCiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpDQogICAgICBmb3IgKGxldCBjYXRlZ29yeSBpbiBkYXRhLmNhdGVnb3JpZXMpIHsNCiAgICAgICAgdGhpcy5DdXJyZW50Q2F0ZWdvcmllcy5wdXNoKHsNCiAgICAgICAgICBrZXk6IGNhdGVnb3J5LA0KICAgICAgICAgIHRleHQ6IGNhdGVnb3J5LA0KICAgICAgICAgIHZhbHVlOiBkYXRhLmNhdGVnb3JpZXNbY2F0ZWdvcnldDQogICAgICAgIH0pDQogICAgICB9DQogICAgICBmb3IgKGxldCB1cmwgaW4gZGF0YS5pbWFnZXMpIHsNCiAgICAgICAgaWYgKGRhdGEuaW1hZ2VzW3VybF0gIT0gbnVsbCkgew0KICAgICAgICAgIGlmICh0aGlzLkltZ1VybHMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICB0aGlzLkltZ1VybHMucHVzaCh7DQogICAgICAgICAgICAgIGlkOiBkYXRhLmltYWdlc1t1cmxdLA0KICAgICAgICAgICAgICB1cmw6IGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2ltYWdlcy8ke2RhdGEuaW1hZ2VzW3VybF19YCwNCiAgICAgICAgICAgICAgY2xhc3NuYW1lOiAnY2Fyb3VzZWwtaXRlbSBhY3RpdmUnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLkltZ1VybHMucHVzaCh7DQogICAgICAgICAgICAgIGlkOiBkYXRhLmltYWdlc1t1cmxdLA0KICAgICAgICAgICAgICB1cmw6IGAvYXBpL3N0b3Jlcy8ke3RoaXMuc3RvcmVfaWR9L2ltYWdlcy8ke2RhdGEuaW1hZ2VzW3VybF19YCwNCiAgICAgICAgICAgICAgY2xhc3NuYW1lOiAnY2Fyb3VzZWwtaXRlbScNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSkNCiAgICB0aGlzLmZldGNoQ2F0ZWdvcnkoKS50aGVuKChkYXRhKSA9PiB7DQogICAgICB0aGlzLkNhdGVnb3JpZXMgPSBkYXRhDQogICAgfSkNCiAgICB0aGlzLmZldGNoTGluaygpLnRoZW4oKGRhdGEpID0+IHsNCiAgICAgIHRoaXMuTGlua3MgPSBkYXRhDQogICAgfSkNCiAgICB0aGlzLmVkaXRvci5vbigndXBkYXRhJywgKHtnZXRIVE1MfSk9PnsNCiAgICAgIGNvbnNvbGUubG9nKGdldEhUTUwpDQogICAgfSkNCiAgfQ0KfQ0K"},{"version":3,"sources":["Store.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Store.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\r\n  <div class=\"container mt-3\">\r\n    <small class=\"text-muted\">{{ $options.__file }}</small>\r\n    <h1 class=\"text-primary font-weight-bold\">\r\n      <router-link to=\"/\"\r\n        ><img\r\n          src=\"~bootstrap-icons/icons/caret-left-fill.svg\"\r\n          alt=\"caret icon\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n      /></router-link>\r\n      Vetrina digitale di: {{ store.company_name }}\r\n    </h1>\r\n    <hr />\r\n    <!-- <div class=\"row alert-danger\">TODO</div> -->\r\n    <div class=\"row m-3\">\r\n      <div class=\"col\">\r\n        <!-- <pre>{{ store }}</pre> -->\r\n\r\n        <!-- display slide images -->\r\n        <div\r\n          id=\"carouselExampleCaptions\"\r\n          class=\"carousel slide\"\r\n          data-ride=\"carousel\"\r\n        >\r\n          <div class=\"carousel-inner\">\r\n            <div\r\n              :class=\"imgurl.classname\"\r\n              v-for=\"imgurl in ImgUrls\"\r\n              :key=\"imgurl.id\"\r\n            >\r\n              <div class=\"row justify-content-md-center\">\r\n                <div class=\"col col-md-auto\">\r\n                  <img\r\n                    :src=\"imgurl.url\"\r\n                    class=\"rounded mx-auto d-block\"\r\n                    alt=\"Image\"\r\n                    height=\"200\"\r\n                    width=\"200\"\r\n                  />\r\n                </div>\r\n                <div class=\"col col-md-1\">\r\n                  <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" @click=\"DeleteImage(imgurl.id)\"></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <a\r\n            class=\"carousel-control-prev\"\r\n            href=\"#carouselExampleCaptions\"\r\n            role=\"button\"\r\n            data-slide=\"prev\"\r\n          >\r\n            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Previous</span>\r\n          </a>\r\n          <a\r\n            class=\"carousel-control-next\"\r\n            href=\"#carouselExampleCaptions\"\r\n            role=\"button\"\r\n            data-slide=\"next\"\r\n          >\r\n            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Next</span>\r\n          </a>\r\n        </div>\r\n\r\n        <!-- upload images -->\r\n        <form novalidate>\r\n          <h4>Upload images</h4>\r\n          <div class=\"dropbox\">\r\n            <input type=\"file\" :name=\"uploadFieldName\" :disabled=\"isSaving\" @change=\"filesChange($event.target.name, $event.target.files)\"\r\n              accept=\"image/*\" class=\"input-file\">\r\n          </div>\r\n        </form>\r\n\r\n        <!-- diaplsy tiptap discription -->\r\n        <div class=\"editor\">\r\n          <label for=\"\" style=\"font-size:24px\">Description</label>\r\n          <editor-menu-bar :editor=\"editor\" v-slot=\"{ commands, isActive }\">\r\n            <div class=\"menubar\">\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.bold() }\"\r\n                @click=\"commands.bold\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/bold.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.italic() }\"\r\n                @click=\"commands.italic\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/italic.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.strike() }\"\r\n                @click=\"commands.strike\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/strike.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.underline() }\"\r\n                @click=\"commands.underline\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/underline.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.code() }\"\r\n                @click=\"commands.code\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/code.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.paragraph() }\"\r\n                @click=\"commands.paragraph\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/paragraph.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\r\n                @click=\"commands.heading({ level: 1 })\"\r\n              >\r\n                H1\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\r\n                @click=\"commands.heading({ level: 2 })\"\r\n              >\r\n                H2\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\r\n                @click=\"commands.heading({ level: 3 })\"\r\n              >\r\n                H3\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.bullet_list() }\"\r\n                @click=\"commands.bullet_list\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/ul.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.ordered_list() }\"\r\n                @click=\"commands.ordered_list\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/ol.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.blockquote() }\"\r\n                @click=\"commands.blockquote\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/quote.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                :class=\"{ 'is-active': isActive.code_block() }\"\r\n                @click=\"commands.code_block\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/code.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                @click=\"commands.horizontal_rule\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/hr.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                @click=\"commands.undo\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/undo.svg'\" alt=\"\">\r\n              </button>\r\n\r\n              <button\r\n                class=\"menubar__button\"\r\n                @click=\"commands.redo\"\r\n              >\r\n                <img :src=\"publicPath + 'icons/redo.svg'\" alt=\"\">\r\n              </button>\r\n\r\n            </div>\r\n          </editor-menu-bar>\r\n\r\n          <editor-content class=\"editor__content\" :editor=\"editor\" id=\"description\" name=\"description\" @keyup.enter=\"UpdateCompany($event)\"/>\r\n        </div><br/><br/>\r\n        <!-- diaplsy company name -->\r\n        <div class=\"input-group mb-3\">\r\n          <span class=\"input-group-text\" id=\"companyname\">Company Name</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"company_name\" :value=\"store.company_name\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"companyname\">\r\n        </div><br/>\r\n\r\n        <!-- diaplsy address and city name -->\r\n        <div class=\"input-group mb-3\">\r\n          <span class=\"input-group-text\" id=\"address\">Address</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"address\" :value=\"store.address\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"address\">\r\n          <span class=\"input-group-text\" id=\"city\">City</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"city\" :value=\"store.city\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"city\">\r\n        </div><br/>\r\n\r\n        <!-- diaplsy zip, vat and fiscal_code name -->\r\n        <div class=\"input-group mb-3\">\r\n          <span class=\"input-group-text\" id=\"zip\">Zip</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"zip\" :value=\"store.zip\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"zip\">\r\n          <span class=\"input-group-text\" id=\"vat\">Vat</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"vat_id\" :value=\"store.vat_id\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"vat\">\r\n          <span class=\"input-group-text\" id=\"fiscal_code\">Fiscal Code</span>\r\n          <input type=\"text\" class=\"form-control\" name=\"fiscal_code\" :value=\"store.fiscal_code\" @keyup.enter=\"UpdateCompany($event)\" aria-label=\"Sizing example input\" aria-describedby=\"fiscal_code\">\r\n        </div><br/>\r\n\r\n        <!-- diaplsy opening hours -->\r\n        <div class=\"input-group mb-3\">\r\n          <label class=\"input-group-text\" for=\"week\">Opening hours</label>\r\n          <select class=\"form-select\" id=\"week\" v-model.lazy=\"week\">\r\n            <option value=\"0\">Monday</option>\r\n            <option value=\"1\">Tuesday</option>\r\n            <option value=\"2\">Wednesday</option>\r\n            <option value=\"3\">Thursday</option>\r\n            <option value=\"4\">Friday</option>\r\n            <option value=\"5\">Saturday</option>\r\n            <option value=\"6\">Sunday</option>\r\n          </select>\r\n          <input type=\"text\" class=\"form-control\" v-if=\"OpeningHours\" :value=\"OpeningHours[0]\">\r\n          <input type=\"text\" class=\"form-control\" v-if=\"!OpeningHours\" >\r\n          <input type=\"text\" class=\"form-control\" v-if=\"OpeningHours\" :value=\"OpeningHours[1]\">\r\n          <input type=\"text\" class=\"form-control\" v-if=\"!OpeningHours\" >\r\n          <input type=\"text\" class=\"form-control\" v-if=\"OpeningHours\" :value=\"OpeningHours[2]\">\r\n          <input type=\"text\" class=\"form-control\" v-if=\"!OpeningHours\" >\r\n        </div><br/>\r\n\r\n        <!-- diaplsy live streaming opening hours -->\r\n        <div class=\"input-group mb-3\">\r\n          <label class=\"input-group-text\" for=\"live\">Live Streaming</label>\r\n          <select class=\"form-select\" id=\"live\" v-model.lazy=\"week\">\r\n            <option value=\"0\">Monday</option>\r\n            <option value=\"1\">Tuesday</option>\r\n            <option value=\"2\">Wednesday</option>\r\n            <option value=\"3\">Thursday</option>\r\n            <option value=\"4\">Friday</option>\r\n            <option value=\"5\">Saturday</option>\r\n            <option value=\"6\">Sunday</option>\r\n          </select>\r\n          <input type=\"text\" class=\"form-control\" v-model.lazy=\"addlinkurl\" >\r\n          <input type=\"text\" class=\"form-control\" v-model.lazy=\"addlinkurl\">\r\n          <input type=\"text\" class=\"form-control\" v-model.lazy=\"addlinkurl\">\r\n        </div><br/>\r\n\r\n        <!-- diaplsy categories -->\r\n        <div class=\"row\">\r\n          <div class=\"col-12 col-md-8 col-sm-8\">\r\n            <div class=\"input-group mb-3\">\r\n              <label class=\"input-group-text\" for=\"CurrentCategories\">Categories</label>\r\n              <select\r\n                class=\"form-select\"\r\n                id=\"CurrentCategories\"\r\n                v-model=\"currentcategory\"\r\n                v-on:change=\"onCategoryChange(currentcategory)\"\r\n              >\r\n                <option\r\n                  v-for=\"option in CurrentCategories\"\r\n                  :key=\"option.key\"\r\n                  :value=\"option.value\"\r\n                >\r\n                  {{ option.text }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"input-group mb-3\">\r\n                <label class=\"input-group-text\" for=\"AddCategories\">Add</label>\r\n                <select\r\n                  class=\"form-select\"\r\n                  id=\"AddCategories\"\r\n                  v-model.lazy=\"addcategory\"\r\n                >\r\n                  <option\r\n                    v-for=\"option in Categories\"\r\n                    :key=\"option.id\"\r\n                    :value=\"option.id\"\r\n                  >\r\n                    {{ option.display }}\r\n                  </option>\r\n                </select>\r\n                <label class=\"input-group-text\" for=\"MainCategories\">Main</label>\r\n                <select\r\n                  class=\"form-select\"\r\n                  id=\"MainCategories\"\r\n                  v-model.lazy=\"maincategory\"\r\n                >\r\n                  <option\r\n                    v-for=\"option in CurrentCategories\"\r\n                    :key=\"option.key\"\r\n                    :value=\"option.value\"\r\n                  >\r\n                    {{ option.text }}\r\n                  </option>\r\n                </select>\r\n                <label class=\"input-group-text\" for=\"DeleteCategories\">Delete</label>\r\n                <select\r\n                  class=\"form-select\"\r\n                  id=\"DeleteCategories\"\r\n                  v-model.lazy=\"deletecategory\"\r\n                >\r\n                  <option\r\n                    v-for=\"option in CurrentCategories\"\r\n                    :key=\"option.key\"\r\n                    :value=\"option.value\"\r\n                  >\r\n                    {{ option.text }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-4 col-sm-4\">\r\n            <img\r\n              :src=\"categoryimg\"\r\n              :alt=\"currentcategory\"\r\n              v-if=\"categoryimg\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n            />\r\n          </div>\r\n        </div><br/>\r\n\r\n        <!-- diaplsy links -->\r\n        <div class=\"col\">\r\n          <label for=\"link\" style=\"font-size: 24px\">Link</label>\r\n          <table class=\"table table-hover\" id=\"link\">\r\n            <tbody>\r\n              <tr v-for=\"link in CurrentLinks\" :key=\"link.id\">\r\n                <td><img :src=\"link.image\" alt=\"image\" with=\"20\" height=\"20\"></td>\r\n                <th>{{link.display}}</th>\r\n                <td>{{link.url}}</td>\r\n                <td><button type=\"button\" class=\"btn btn-dark\" v-on:click=\"DeleteLink(link.id)\">Delete</button></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div><br/>\r\n        <div class=\"input-group mb-3\">\r\n          <label class=\"input-group-text\" for=\"addlink\">Add Link</label>\r\n          <select class=\"form-select\" id=\"addlink\" v-model.lazy=\"addlink\">\r\n            <option v-for=\"link in Links\" :key=\"link.id\" :value=\"link.id\">\r\n              {{ link.display }}\r\n            </option>\r\n          </select>\r\n          <input type=\"text\" class=\"form-control\" v-model.lazy=\"addlinkurl\">\r\n        </div><br/><br/>\r\n\r\n        <!-- diaplsy geolocation -->\r\n        <div class=\"w-100\">\r\n          <div\r\n            v-show=\"this.show_map\"\r\n            id=\"map\"\r\n            style=\"width: 100%; height: 200px\"\r\n            class=\"mb-5\"\r\n          ></div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport { Editor, EditorContent, EditorMenuBar } from 'tiptap'\r\nimport {\r\n  Blockquote,\r\n  BulletList,\r\n  CodeBlock,\r\n  HardBreak,\r\n  Heading,\r\n  HorizontalRule,\r\n  ListItem,\r\n  OrderedList,\r\n  TodoItem,\r\n  TodoList,\r\n  Bold,\r\n  Code,\r\n  Italic,\r\n  Link,\r\n  Strike,\r\n  Underline,\r\n  History\r\n} from 'tiptap-extensions'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport ''\r\nimport L from 'leaflet'\r\nVue.use(axios)\r\nconst STATUS_INITIAL = 0; const STATUS_SAVING = 1; const STATUS_SUCCESS = 2; const STATUS_FAILED = 3\r\nexport default {\r\n  components: {\r\n    EditorContent,\r\n    EditorMenuBar,\r\n  },\r\n  data () {\r\n    return {\r\n      store_id: null,\r\n      store: {},\r\n      editor: new Editor({\r\n        onBlur: ({event})=>{\r\n          this.UpdateCompany(event)\r\n        },\r\n        extensions: [\r\n          new Blockquote(),\r\n          new BulletList(),\r\n          new CodeBlock(),\r\n          new HardBreak(),\r\n          new Heading({ levels: [1, 2, 3] }),\r\n          new HorizontalRule(),\r\n          new ListItem(),\r\n          new OrderedList(),\r\n          new TodoItem(),\r\n          new TodoList(),\r\n          new Link(),\r\n          new Bold(),\r\n          new Code(),\r\n          new Italic(),\r\n          new Strike(),\r\n          new Underline(),\r\n          new History()\r\n        ],\r\n        content: ''\r\n      }),\r\n      CurrentCategories: [],\r\n      Categories: [],\r\n      currentcategory: '',\r\n      addcategory: '',\r\n      maincategory: '',\r\n      deletecategory: '',\r\n      categoryimg: '',\r\n      ImgUrls: [],\r\n      deleteimg: '',\r\n      company_name: String,\r\n      latitude: Number,\r\n      longitude: Number,\r\n      publicPath: process.env.BASE_URL,\r\n      show_map: false,\r\n      CurrentLinks: [],\r\n      Links: [],\r\n      addlink: '',\r\n      addlinkurl: '',\r\n      uploadedFiles: [],\r\n      uploadError: null,\r\n      currentStatus: null,\r\n      uploadFieldName: 'contents',\r\n      week: String,\r\n      OpeningHours: [[]],\r\n      OpeningHours1: [],\r\n      LiveStreaming: [],\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.editor.destroy()\r\n  },\r\n  watch: {\r\n    week: function () {\r\n      if (this.week === '0') {\r\n        // this.OpeningHours = store.opening_hours[this.week]\r\n        this.OpeningHours = this.OpeningHours1[this.week]\r\n        console.log(this.OpeningHours[0])\r\n      }\r\n      switch (this.week) {\r\n        case '0': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '1': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '2': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '3': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '4': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '5': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        case '6': this.OpeningHours = this.OpeningHours1[this.week]; break\r\n        default: break\r\n      }\r\n    },\r\n    addcategory: function () {\r\n      if (this.CurrentCategories.length === 0) {\r\n        this.MainCategory()\r\n      }\r\n      this.AddCategory().then(data => {\r\n        if (data === 'ok') {\r\n          this.Categories.forEach((category) => {\r\n            if (category.id === this.addcategory) {\r\n              alert('Aggiunti i ' + category.display + ' con successo!')\r\n              this.CurrentCategories.push({\r\n                key: category.id,\r\n                value: category.id,\r\n                text: category.display\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    maincategory: function () {\r\n      this.MainCategory().then(data => {\r\n        if (data === 'ok') {\r\n          this.Categories.forEach((category) => {\r\n            if (category.id === this.maincategory) {\r\n              alert(\r\n                'Selezionato con successo i ' +\r\n                  category.display +\r\n                  ' come categoria principale!'\r\n              )\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    deletecategory: function () {\r\n      if (confirm('Vuoi rimuovere questa categoria?')) {\r\n        this.DeleteCategory().then(data => {\r\n          if (data.status === 200) {\r\n            this.Categories.forEach((category) => {\r\n              if (category.id === this.deletecategory) {\r\n                alert('Eliminato con successo i ' + category.display + '!')\r\n                for (let i in this.CurrentCategories) {\r\n                  if (this.CurrentCategories[i].value === this.deletecategory) {\r\n                    this.CurrentCategories.splice(i, 1)\r\n                  }\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    addlinkurl: function () {\r\n      let flag = true\r\n      this.CurrentLinks.forEach(link => {\r\n        if (this.addlink === link.link_id) {\r\n          flag = false\r\n          alert('Il ' + link.display + ' esiste giÃ !')\r\n        }\r\n      })\r\n      if (flag) {\r\n        this.AddLink().then(data => {\r\n          if (data) {\r\n            this.Links.forEach(link => {\r\n              if (this.addlink === link.id) {\r\n                this.CurrentLinks.push({\r\n                  id: data.id,\r\n                  link_id: link.id,\r\n                  display: link.display,\r\n                  image: link.image,\r\n                  url: this.addlinkurl\r\n                })\r\n                alert('Aggiunto con successo il ' + link.display + '!')\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    isInitial () {\r\n      return this.currentStatus === STATUS_INITIAL\r\n    },\r\n    isSaving () {\r\n      return this.currentStatus === STATUS_SAVING\r\n    },\r\n    isSuccess () {\r\n      return this.currentStatus === STATUS_SUCCESS\r\n    },\r\n    isFailed () {\r\n      return this.currentStatus === STATUS_FAILED\r\n    }\r\n  },\r\n  methods: {\r\n    reset () {\r\n      // reset form to initial state\r\n      this.currentStatus = STATUS_INITIAL\r\n      this.uploadedFiles = []\r\n      this.uploadError = null\r\n    },\r\n    save (formData) {\r\n      // upload data to the server\r\n      this.currentStatus = STATUS_SAVING\r\n\r\n      this.upload(formData)\r\n        .then(x => {\r\n          this.uploadedFiles = [].concat(x)\r\n          this.currentStatus = STATUS_SUCCESS\r\n        })\r\n        .catch(err => {\r\n          this.uploadError = err.response\r\n          this.currentStatus = STATUS_FAILED\r\n        })\r\n    },\r\n    filesChange (fieldName, fileList) {\r\n      // handle file changes\r\n      const formData = new FormData()\r\n\r\n      if (!fileList.length) return\r\n\r\n      formData.append(fieldName, fileList[0], fileList[0].name)\r\n\r\n      // save it\r\n      this.save(formData)\r\n    },\r\n    upload (formData) {\r\n      const url = `/api/stores/${this.store_id}/images`\r\n      return axios.post(url, formData)\r\n      // get data\r\n        .then(x => {\r\n          this.saveimage(x.data.id, formData)\r\n        })\r\n    },\r\n    saveimage (id, formData) {\r\n      return axios.post(`/api/stores/${this.store_id}/images/${id}`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            'mimetype': formData.getAll('contents')[0].type\r\n          }\r\n        }).then(res => {\r\n        console.log(res)\r\n        if (res.status === 200) {\r\n          if (this.ImgUrls.length === 0) {\r\n            this.ImgUrls.push({\r\n              id: res.data.id,\r\n              url: `/api/stores/${this.store_id}/images/${res.data.id}`,\r\n              classname: 'carousel-item active'\r\n            })\r\n            alert('Aggiunto con successo!')\r\n          } else {\r\n            this.ImgUrls.push({\r\n              id: res.data.id,\r\n              url: `/api/stores/${this.store_id}/images/${res.data.id}`,\r\n              classname: 'carousel-item'\r\n            })\r\n            alert('Aggiunto con successo!')\r\n          }\r\n        }\r\n      })\r\n    },\r\n    async DeleteImage (id) {\r\n      const response = await fetch(`/api/stores/${this.store_id}/images/${id}`, {\r\n        method: 'POST',\r\n        mode: 'no-cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      if (response.status === 200) {\r\n        // for(let i in this.ImgUrls){\r\n        //   if(this.ImgUrls[i].id == id){\r\n        //     this.ImgUrls.splice(i,1)\r\n        //   }\r\n        // }\r\n        alert('Eliminato con successo!')\r\n      }\r\n      return response\r\n    },\r\n    async UpdateCompany (event) {\r\n      let data = {}\r\n      if(event.target.className === \"ProseMirror ProseMirror-focused\"){\r\n        data = { 'description': event.target.innerText}\r\n      }\r\n      else{\r\n        switch (event.target.name) {\r\n          case 'company_name': data = { 'company_name': event.target.value }; break\r\n          case 'address': data = { 'address': event.target.value }; break\r\n          case 'city': data = { 'city': event.target.value }; break\r\n          case 'zip': data = { 'zip': event.target.value }; break\r\n          case 'vat_id': data = { 'vat_id': event.target.value }; break\r\n          case 'fiscal_code': data = { 'fiscal_code': event.target.value }; break\r\n          default: break\r\n        }\r\n      }\r\n      fetch(`/api/stores/${this.store_id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      }).then(response => {\r\n        if (response.status === 200) {\r\n          alert('Aggiornato con successo!')\r\n        }\r\n      })\r\n    },\r\n    initialize: function () {\r\n      if (this.latitude && this.longitude) {\r\n        this.show_map = true\r\n        Vue.nextTick(() => {\r\n          // update map\r\n          const myIcon = L.icon({\r\n            iconUrl: this.publicPath + 'icons/favicon.png',\r\n            iconSize: [32, 32],\r\n            shadowSize: [38, 38], // size of the shadow\r\n            iconAnchor: [22, 94],\r\n            shadowAnchor: [4, 62],\r\n            popupAnchor: [-3, -90]\r\n          })\r\n          var map = L.map('map', {\r\n            dragging: !L.Browser.mobile,\r\n            tap: !L.Browser.mobile\r\n          }).setView([this.latitude, this.longitude], 17)\r\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            attribution:\r\n              '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          }).addTo(map)\r\n          L.marker([this.latitude, this.longitude], { icon: myIcon })\r\n            .addTo(map)\r\n            .bindPopup(this.company_name)\r\n            .openPopup()\r\n        })\r\n      }\r\n    },\r\n    async fetchStore (storeId) {\r\n      const response = await fetch('/api/stores/' + storeId, {\r\n        mode: 'no-cors',\r\n        headers: {\r\n          accept: 'application/json'\r\n        }\r\n      })\r\n      return response.json()\r\n    },\r\n    async fetchCategory () {\r\n      const response = await fetch('/api/categories', {\r\n        mode: 'no-cors',\r\n        headers: {\r\n          accept: 'application/json'\r\n        }\r\n      })\r\n      return response.json()\r\n    },\r\n    async fetchLink () {\r\n      const response = await fetch('/api/links', {\r\n        mode: 'no-cors',\r\n        headers: {\r\n          accept: 'application/json'\r\n        }\r\n      })\r\n      return response.json()\r\n    },\r\n    async AddCategory () {\r\n      const response = await fetch(\r\n        `/api/stores/${this.store_id}/categories/${this.addcategory}`,\r\n        {\r\n          method: 'POST',\r\n          mode: 'no-cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      return response.text()\r\n    },\r\n    async MainCategory () {\r\n      const response = await fetch(\r\n        `/api/stores/${this.store_id}/categories/${this.maincategory}/main`,\r\n        {\r\n          method: 'POST',\r\n          mode: 'no-cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      return response.text()\r\n    },\r\n    async DeleteCategory () {\r\n      const response = await fetch(\r\n        `/api/stores/${this.store_id}/categories/${this.deletecategory}`,\r\n        {\r\n          method: 'POST',\r\n          mode: 'no-cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      return response\r\n    },\r\n    async AddLink () {\r\n      const response = await fetch(\r\n        `/api/stores/${this.store_id}/links/${this.addlink}`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'application/json',\r\n            accept: 'application/json'\r\n          },\r\n          body: JSON.stringify({ url: this.addlinkurl })\r\n        }\r\n      )\r\n      return response.json()\r\n    },\r\n    async DeleteLink (id) {\r\n      if (confirm('Vuoi rimuovere questa categoria?')) {\r\n        for (let i in this.CurrentLinks) {\r\n          if (this.CurrentLinks[i].id === id) {\r\n            this.CurrentLinks.splice(i, 1)\r\n          }\r\n        }\r\n        const response = await fetch(`/api/stores/${this.store_id}/links/${id}`, {\r\n          method: 'POST',\r\n          mode: 'no-cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        if (response.status === 200) {\r\n          alert('Eliminato con successo!')\r\n        }\r\n        return response\r\n      }\r\n    },\r\n    onCategoryChange (currentcategory) {\r\n      this.Categories.forEach((category) => {\r\n        if (category.id === currentcategory) {\r\n          this.categoryimg = category.image\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.reset()\r\n    this.store_id = this.$route.params.id\r\n    this.fetchStore(this.store_id).then((data) => {\r\n      this.store = data\r\n      this.editor.setContent(data.description)\r\n      this.latitude = data.latitude\r\n      this.longitude = data.longitude\r\n      this.company_name = data.company_name\r\n      this.CurrentLinks = data.links\r\n      this.OpeningHours1 = {\r\n        0: [['09:00', '12:30'], ['13:30', '15:00'], ['16:30', '19:00']],\r\n        1: [['09:00', '12:30'], ['16:30', '19:00']],\r\n        2: [['09:00', '12:30'], ['16:30', '19:00']],\r\n        3: [['09:00', '12:30'], ['16:30', '19:00']],\r\n        4: [['09:00', '12:30'], ['16:30', '19:00']]\r\n      }\r\n      this.initialize()\r\n      for (let category in data.categories) {\r\n        this.CurrentCategories.push({\r\n          key: category,\r\n          text: category,\r\n          value: data.categories[category]\r\n        })\r\n      }\r\n      for (let url in data.images) {\r\n        if (data.images[url] != null) {\r\n          if (this.ImgUrls.length === 0) {\r\n            this.ImgUrls.push({\r\n              id: data.images[url],\r\n              url: `/api/stores/${this.store_id}/images/${data.images[url]}`,\r\n              classname: 'carousel-item active'\r\n            })\r\n          } else {\r\n            this.ImgUrls.push({\r\n              id: data.images[url],\r\n              url: `/api/stores/${this.store_id}/images/${data.images[url]}`,\r\n              classname: 'carousel-item'\r\n            })\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.fetchCategory().then((data) => {\r\n      this.Categories = data\r\n    })\r\n    this.fetchLink().then((data) => {\r\n      this.Links = data\r\n    })\r\n    this.editor.on('updata', ({getHTML})=>{\r\n      console.log(getHTML)\r\n    })\r\n  }\r\n}\r\n</script>\r\n"]}]}