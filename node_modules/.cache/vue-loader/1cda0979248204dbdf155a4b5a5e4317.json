{"remainingRequest":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\Vue\\zuly\\zuly\\src\\pages\\ResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\Vue\\zuly\\zuly\\src\\pages\\ResetPassword.vue","mtime":1603842703512},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601629561006},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\babel-loader\\lib\\index.js","mtime":1599704251701},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601629561006},{"path":"D:\\working\\Vue\\zuly\\zuly\\node_modules\\vue-loader\\lib\\index.js","mtime":1601629564332}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBlbWFpbDogJycsDQogICAgICBzdWNjZXNzTWVzc2FnZTogJ01hbmRlcmVtbyB1blwnZW1haWwgYSBxdWVzdG8gaW5kaXp6by4nLA0KICAgICAgZXJyb3JNZXNzYWdlOiAnJywNCiAgICAgIGRpc2FibGVkOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIHBvc3RSZXF1ZXN0ICgpIHsNCiAgICAgIGxldCBwYXlsb2FkID0gew0KICAgICAgICBlbWFpbDogdGhpcy5lbWFpbA0KICAgICAgfQ0KICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wYXNzd2QnLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkNCiAgICAgIH0NCiAgICAgICkNCiAgICAgIHJldHVybiByZXNwb25zZQ0KICAgIH0sDQogICAgcmVxdWVzdFBhc3N3b3JkOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICcnDQogICAgICB2YXIgZW1haWxGaWx0ZXIgPSAvXihbYS16QS1aMC05Xy4tXStcKz9bYS16QS1aMC05Xy4tXSspQCgoW2EtekEtWjAtOS1dKSsuKSsoW2EtekEtWjAtOV17Miw0fSkrJC8NCiAgICAgIGlmICghZW1haWxGaWx0ZXIudGVzdCh0aGlzLmVtYWlsKSkgew0KICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICdJbnNlcmlzY2kgdW4gaW5kaXJpenpvIGVtYWlsIHZhbGlkby4nDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgdGhpcy5zdWNjZXNzTWVzc2FnZSA9ICdBYmJpYW1vIG1hbmRhdG8gdW5cJ2VtYWlsIGFsbFwnaW5kaXJpenpvIGluZGljYXRvLCBjb24gbGUgaXN0cnV6aW9uaSBwZXIgcmktaW1wb3N0YXJlIGxhIHR1YSBwYXNzd29yZCBzdSBadWx5LicNCiAgICAgICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ0NcJ8OoIHN0YXRvIHVuIHByb2JsZW1hLiBSaXByb3ZhIHBpw7kgdGFyZGkuJw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResetPassword.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"container mt-3\">\r\n    <small class=\"text-muted\">{{ $options.__file }}</small>\r\n    <div class=\"row m-3\">\r\n      <div class=\"col-md-4 offset-md-4\">\r\n        <h1 class=\"text-center\">Ri-imposta la tua password su Zuly</h1>\r\n        <h3 class=\"text-center text-muted\">(riservato ai negozi)</h3>\r\n        <form>\r\n          <div class=\"mb-3\">\r\n            <label for=\"inputEmail\" class=\"form-label\">Indirizzo email</label>\r\n            <input type=\"email\" class=\"form-control\" id=\"inputEmail\" aria-describedby=\"emailHelp\" placeholder=\"tua.email@esempio.it\" v-model=\"email\">\r\n            <div class=\"alert-danger my-3\" v-show=\"errorMessage\">{{ errorMessage }}</div>\r\n            <p id=\"emailHelp\" class=\"text-muted my-3\">{{ successMessage }}</p>\r\n          </div>\r\n          <button :disabled=\"disabled || email === ''\" type=\"button\" class=\"btn btn-primary\" v-on:click=\"requestPassword()\">Invia la richiesta</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      email: '',\r\n      successMessage: 'Manderemo un\\'email a questo indizzo.',\r\n      errorMessage: '',\r\n      disabled: false\r\n    }\r\n  },\r\n  methods: {\r\n    async postRequest () {\r\n      let payload = {\r\n        email: this.email\r\n      }\r\n      const response = await fetch('/api/passwd', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      }\r\n      )\r\n      return response\r\n    },\r\n    requestPassword: function () {\r\n      this.errorMessage = ''\r\n      var emailFilter = /^([a-zA-Z0-9_.-]+\\+?[a-zA-Z0-9_.-]+)@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/\r\n      if (!emailFilter.test(this.email)) {\r\n        this.errorMessage = 'Inserisci un indirizzo email valido.'\r\n        return false\r\n      } else {\r\n        this.postRequest().then(response => {\r\n          if (response.ok) {\r\n            this.successMessage = 'Abbiamo mandato un\\'email all\\'indirizzo indicato, con le istruzioni per ri-impostare la tua password su Zuly.'\r\n            this.disabled = true\r\n          } else {\r\n            this.errorMessage = 'C\\'è stato un problema. Riprova più tardi.'\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\n"]}]}