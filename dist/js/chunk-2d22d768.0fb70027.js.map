{"version":3,"sources":["webpack:///./src/pages/ResetPassword.vue?f1ca","webpack:///src/pages/ResetPassword.vue","webpack:///./src/pages/ResetPassword.vue?4a2d","webpack:///./src/pages/ResetPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$options","__file","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","email","errorMessage","successMessage","disabled","requestPassword","staticRenderFns","methods","payload","response","fetch","method","headers","body","JSON","stringify","emailFilter","test","postRequest","then","ok","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,WAAWN,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAG,wCAAwCH,EAAG,KAAK,CAACE,YAAY,0BAA0B,CAACN,EAAIO,GAAG,2BAA2BH,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaK,MAAM,CAAC,IAAM,eAAe,CAACX,EAAIO,GAAG,qBAAqBH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAS,MAAEgB,WAAW,UAAUV,YAAY,eAAeK,MAAM,CAAC,KAAO,QAAQ,GAAK,aAAa,mBAAmB,YAAY,YAAc,wBAAwBM,SAAS,CAAC,MAASjB,EAAS,OAAGkB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBrB,EAAIsB,MAAMH,EAAOC,OAAOL,WAAUX,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAgB,aAAEgB,WAAW,iBAAiBV,YAAY,qBAAqB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIuB,iBAAiBnB,EAAG,IAAI,CAACE,YAAY,kBAAkBK,MAAM,CAAC,GAAK,cAAc,CAACX,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIwB,qBAAqBpB,EAAG,SAAS,CAACE,YAAY,kBAAkBK,MAAM,CAAC,SAAWX,EAAIyB,UAA0B,KAAdzB,EAAIsB,MAAa,KAAO,UAAUJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI0B,qBAAqB,CAAC1B,EAAIO,GAAG,iCACt4CoB,EAAkB,GCqBtB,GACE,OACE,MAAO,CACLL,MAAO,GACPE,eAAgB,uCAChBD,aAAc,GACdE,UAAU,IAGdG,QAAS,CACP,oBACE,IAAIC,EAAU,CACZP,MAAOrB,KAAKqB,OAEd,MAAMQ,QAAiBC,MAAM,cAAe,CAC1CC,OAAQ,OACRC,QAAS,CAAjB,mCACQC,KAAMC,KAAKC,UAAUP,KAGvB,OAAOC,GAETJ,gBAAiB,WACfzB,KAAKsB,aAAe,GACpB,IAAIc,EAAc,+EAClB,IAAKA,EAAYC,KAAKrC,KAAKqB,OAEzB,OADArB,KAAKsB,aAAe,wCACb,EAEPtB,KAAKsC,cAAcC,KAAKV,IAClBA,EAASW,IACXxC,KAAKuB,eAAiB,+GACtBvB,KAAKwB,UAAW,GAEhBxB,KAAKsB,aAAe,iDCxDuT,I,YCOnVmB,EAAY,eACd,EACA3C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAe,E","file":"js/chunk-2d22d768.0fb70027.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-3\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.$options.__file))]),_c('div',{staticClass:\"row m-3\"},[_c('div',{staticClass:\"col-md-4 offset-md-4\"},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Ri-imposta la tua password su Zuly\")]),_c('h3',{staticClass:\"text-center text-muted\"},[_vm._v(\"(riservato ai negozi)\")]),_c('form',[_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"inputEmail\"}},[_vm._v(\"Indirizzo email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"inputEmail\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"tua.email@esempio.it\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"alert-danger my-3\"},[_vm._v(_vm._s(_vm.errorMessage))]),_c('p',{staticClass:\"text-muted my-3\",attrs:{\"id\":\"emailHelp\"}},[_vm._v(_vm._s(_vm.successMessage))])]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.disabled || _vm.email === '',\"type\":\"button\"},on:{\"click\":function($event){return _vm.requestPassword()}}},[_vm._v(\"Invia la richiesta\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container mt-3\">\r\n    <small class=\"text-muted\">{{ $options.__file }}</small>\r\n    <div class=\"row m-3\">\r\n      <div class=\"col-md-4 offset-md-4\">\r\n        <h1 class=\"text-center\">Ri-imposta la tua password su Zuly</h1>\r\n        <h3 class=\"text-center text-muted\">(riservato ai negozi)</h3>\r\n        <form>\r\n          <div class=\"mb-3\">\r\n            <label for=\"inputEmail\" class=\"form-label\">Indirizzo email</label>\r\n            <input type=\"email\" class=\"form-control\" id=\"inputEmail\" aria-describedby=\"emailHelp\" placeholder=\"tua.email@esempio.it\" v-model=\"email\">\r\n            <div class=\"alert-danger my-3\" v-show=\"errorMessage\">{{ errorMessage }}</div>\r\n            <p id=\"emailHelp\" class=\"text-muted my-3\">{{ successMessage }}</p>\r\n          </div>\r\n          <button :disabled=\"disabled || email === ''\" type=\"button\" class=\"btn btn-primary\" v-on:click=\"requestPassword()\">Invia la richiesta</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      email: '',\r\n      successMessage: 'Manderemo un\\'email a questo indizzo.',\r\n      errorMessage: '',\r\n      disabled: false\r\n    }\r\n  },\r\n  methods: {\r\n    async postRequest () {\r\n      let payload = {\r\n        email: this.email\r\n      }\r\n      const response = await fetch('/api/passwd', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      }\r\n      )\r\n      return response\r\n    },\r\n    requestPassword: function () {\r\n      this.errorMessage = ''\r\n      var emailFilter = /^([a-zA-Z0-9_.-]+\\+?[a-zA-Z0-9_.-]+)@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/\r\n      if (!emailFilter.test(this.email)) {\r\n        this.errorMessage = 'Inserisci un indirizzo email valido.'\r\n        return false\r\n      } else {\r\n        this.postRequest().then(response => {\r\n          if (response.ok) {\r\n            this.successMessage = 'Abbiamo mandato un\\'email all\\'indirizzo indicato, con le istruzioni per ri-impostare la tua password su Zuly.'\r\n            this.disabled = true\r\n          } else {\r\n            this.errorMessage = 'C\\'è stato un problema. Riprova più tardi.'\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetPassword.vue?vue&type=template&id=458adedf&\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}