(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d847"],{d247:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"container mt-3"},[a("small",{staticClass:"text-muted"},[s._v(s._s(s.$options.__file))]),a("div",{staticClass:"row m-3"},[a("div",{staticClass:"col-md-4 offset-md-4"},[a("h1",{staticClass:"text-center"},[s._v("Imposta la tua password su Zuly")]),a("h3",{staticClass:"text-center text-muted"},[s._v("(riservato ai negozi)")]),a("form",[a("p",[s._v("Imposta la nuova password.")]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"inputPassword"}},[s._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"inputPassword"}},[s._v("Conferma la password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.password1,expression:"password1"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword"},domProps:{value:s.password1},on:{input:function(t){t.target.composing||(s.password1=t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.checkPassword||s.errorMessage,expression:"checkPassword || errorMessage"}],staticClass:"alert-danger my-3"},[s._v(s._s(s.checkPassword)+s._s(s.errorMessage))]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.success,expression:"success"}],staticClass:"text-muted my-3"},[a("p",[s._v("Il cambio della password del tuo account Zuly è andato a buon fine e abbiamo mandato un'email di conferma all'indirizzo indicato.")]),a("p",[s._v("Adesso puoi "),a("router-link",{attrs:{to:"/login"}},[s._v("effettuare il login")]),s._v(".")],1)]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:s.success,type:"button"},on:{click:function(t){return s.setPassword()}}},[s._v("Imposta")])])])])])},o=[],r={data(){return{token:"",password:"",password1:"",errorMessage:"",success:!1}},computed:{checkPassword:function(){return this.password&&this.password!==this.password1?"Le password non combaciano.":""}},mounted:function(){this.token=this.$route.params.token},methods:{async putRequest(){let s={token:this.token,password:this.password};const t=await fetch("/api/passwd",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return t},setPassword:function(){this.putRequest().then(s=>{s.ok?(this.success=!0,this.$parent.requestedRoute=""):401===s.status?this.errorMessage="Non puoi cambiare la password. Forse il link è scaduto?":this.errorMessage="C'è stato un problema. Riprova più tardi."})}}},i=r,n=a("2877"),d=Object(n["a"])(i,e,o,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21d847.c960ba2c.js.map