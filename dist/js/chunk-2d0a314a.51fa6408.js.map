{"version":3,"sources":["webpack:///./src/pages/Login.vue?a893","webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?2de7","webpack:///./src/pages/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$options","__file","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","email","password","errorMessage","login","_m","staticRenderFns","methods","payload","response","fetch","method","headers","body","JSON","stringify","performLogin","then","ok","$emit","console","log","component"],"mappings":"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","file":"js/chunk-2d0a314a.51fa6408.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-3\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.$options.__file))]),_c('div',{staticClass:\"col-md-4 offset-md-4\"},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Accedi al back-office di Zuly\")]),_c('h3',{staticClass:\"text-center text-muted\"},[_vm._v(\"(riservato ai negozi)\")]),_c('form',[_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"inputEmail\"}},[_vm._v(\"Indirizzo email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"inputEmail\",\"placeholder\":\"tua.email@esempio.it\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"inputPassword\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"inputPassword\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"alert-danger my-3\"},[_vm._v(_vm._s(_vm.errorMessage))]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.email === '' || _vm.password === '',\"type\":\"button\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"Accedi\")])]),_c('p',{staticClass:\"mt-4\"},[_vm._v(\"Hai dimenticato la password ? \"),_c('router-link',{attrs:{\"to\":\"/reset_password\"}},[_vm._v(\"Ri-impostala\")]),_vm._v(\".\")],1),_c('p',[_vm._v(\"Il tuo negozio è in Zuly ma non hai ancora un account? fatti invitare dal tuo gestore.\")]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Il tuo negozio non è ancora in Zuly? \"),_c('a',{attrs:{\"href\":\"https://join.zuly.it/inizia/\",\"target\":\"_blank\"}},[_vm._v(\"Aderisci ora\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container mt-3\">\r\n    <small class=\"text-muted\">{{ $options.__file }}</small>\r\n    <div class=\"col-md-4 offset-md-4\">\r\n      <h1 class=\"text-center\">Accedi al back-office di Zuly</h1>\r\n      <h3 class=\"text-center text-muted\">(riservato ai negozi)</h3>\r\n      <form>\r\n        <div class=\"mb-3\">\r\n          <label for=\"inputEmail\" class=\"form-label\">Indirizzo email</label>\r\n          <input type=\"email\" class=\"form-control\" id=\"inputEmail\" placeholder=\"tua.email@esempio.it\" v-model=\"email\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"inputPassword\" class=\"form-label\">Password</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"inputPassword\" v-model=\"password\">\r\n        </div>\r\n        <div class=\"alert-danger my-3\" v-show=\"errorMessage\">{{ errorMessage }}</div>\r\n        <button :disabled=\"email === '' || password === ''\" type=\"button\" class=\"btn btn-primary\" v-on:click=\"login()\">Accedi</button>\r\n      </form>\r\n      <p class=\"mt-4\">Hai dimenticato la password ? <router-link to=\"/reset_password\">Ri-impostala</router-link>.</p>\r\n      <p>Il tuo negozio è in Zuly ma non hai ancora un account? fatti invitare dal tuo gestore.</p>\r\n      <p>Il tuo negozio non è ancora in Zuly? <a href=\"https://join.zuly.it/inizia/\" target=\"_blank\">Aderisci ora</a>.</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      errorMessage: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async performLogin () {\r\n      let payload = {\r\n        email: this.email,\r\n        password: this.password\r\n      }\r\n      const response = await fetch('/api/session', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      }\r\n      )\r\n      return response\r\n    },\r\n    login () {\r\n      if (this.email !== '' && this.password !== '') {\r\n        this.performLogin().then(response => {\r\n          if (response.ok) {\r\n            this.$emit('authenticated', true)\r\n          } else {\r\n            this.errorMessage = 'Accesso non riuscito'\r\n            console.log('The email and / or password is incorrect')\r\n          }\r\n        })\r\n      } else {\r\n        this.errorMessage = 'Inserisci email e password.'\r\n        console.log('A email and password must be present')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e8dcedbc&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}