(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-540c7424"],{"41ef":function(t,e,a){t.exports=a.p+"img/camera-reels.8ba1e699.svg"},"78cf":function(t,e,a){t.exports=a.p+"img/telephone-outbound.e127b229.svg"},c3df:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container mt-3"},[i("small",{staticClass:"text-muted"},[t._v(t._s(t.$options.__file))]),i("h1",{staticClass:"text-primary font-weight-bold"},[i("router-link",{attrs:{to:"/contacts"}},[i("img",{attrs:{src:a("fae0"),alt:"caret icon",width:"30",height:"30"}})]),t._v(" Contatto "+t._s(t.count)+" di "+t._s(t.total)+" ")],1),i("ul",{staticClass:"list-group"},[i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Nome")]),i("li",{staticClass:"list-group-item list-group-item-light"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.contact.name,expression:"contact.name",modifiers:{lazy:!0}}],staticClass:"px-3 py-1 w-100 rounded mb-2",attrs:{name:"fname",autocomplete:"given-name",type:"text"},domProps:{value:t.contact.name},on:{change:function(e){return t.$set(t.contact,"name",e.target.value)}}})]),i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Data")]),i("li",{staticClass:"list-group-item list-group-item-light"},[t._v(t._s(t.contact.mtime))]),i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Richiesta")]),i("li",{staticClass:"list-group-item list-group-item-light"},[i("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.contact.request,expression:"contact.request",modifiers:{lazy:!0}}],staticClass:"rounded px-3 py-2 mb-2 w-100",domProps:{value:t.contact.request},on:{change:function(e){return t.$set(t.contact,"request",e.target.value)}}})]),i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Numero di telefono")]),i("li",{staticClass:"list-group-item list-group-item-light"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.contact.telephone_number,expression:"contact.telephone_number",modifiers:{lazy:!0}}],staticClass:"px-3 py-1 w-100 rounded mb-2",attrs:{name:"mobile",autocomplete:"tel",type:"number"},domProps:{value:t.contact.telephone_number},on:{change:function(e){return t.$set(t.contact,"telephone_number",e.target.value)}}}),t._m(0),i("a",{attrs:{"data-title":"Chiama con WhatsApp",href:"#",role:"button"}},[i("img",{attrs:{src:t.publicPath+"WhatsApp.svg",alt:"whatsapp icon",width:"60",height:"60"}})])]),i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Email")]),i("li",{staticClass:"list-group-item list-group-item-light"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.contact.email,expression:"contact.email",modifiers:{lazy:!0}}],staticClass:"px-3 py-1 w-100 rounded mb-2",attrs:{name:"email",autocomplete:"email",type:"email"},domProps:{value:t.contact.email},on:{change:function(e){return t.$set(t.contact,"email",e.target.value)}}})]),i("li",{staticClass:"list-group-item list-group-item-dark"},[t._v("Preferenze di contatto")]),i("li",{staticClass:"list-group-item list-group-item-light"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.contact.preference,expression:"contact.preference",modifiers:{lazy:!0}}],staticClass:"px-3 py-1 w-100 rounded mb-2",attrs:{type:"text"},domProps:{value:t.contact.preference},on:{change:function(e){return t.$set(t.contact,"preference",e.target.value)}}})])]),i("router-link",{staticClass:"btn btn-secondary btn-lg w-100 mt-3 mb-3",attrs:{to:"/store/"+t.store_id+"/live/"+t.contact_id,role:"button"}},[i("img",{attrs:{src:a("41ef"),alt:"phone icon",width:"30",height:"30"}}),t._v(" Avvia il live-streaming")]),i("button",{staticClass:"btn btn-secondary btn-lg w-100 mt-3 mb-3",attrs:{type:"button"}},[t._v("Proposta di acquisto")])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"btn btn-secondary rounded-circle",attrs:{href:"#",role:"button","data-title":"Chiama col telefono"}},[i("img",{attrs:{src:a("78cf"),alt:"phone icon",width:"30",height:"30"}})])}],o=a("2b0e"),n=(a("ce8c"),{data(){return{publicPath:"/",store_id:null,contact_id:null,contact:{},count:1,total:5,freeze:!0}},watch:{contact:{handler(t){this.freeze||(this.freeze=!0,console.log("PUT = ",this.contact),this.putContact().then(t=>{this.freeze=!1,o["default"].$toast.open({message:"Richiesta aggiornata",type:"success",position:"top-left"})}))},deep:!0}},methods:{async fetchContact(){const t=await fetch("/api/stores/"+this.store_id+"/contacts/"+this.contact_id,{mode:"no-cors",headers:{accept:"application/json"}});return t.json()},async putContact(){let t=this.contact;const e=await fetch("/api/stores/"+this.store_id+"/contacts/"+this.contact_id,{method:"PUT",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(t)});return e.json()}},mounted:function(){this.store_id=this.$route.params.id,this.contact_id=this.$route.params.contact_id;let t=this;t.fetchContact().then(e=>{t.contact=e.contact,o["default"].nextTick(()=>{t.freeze=!1})})}}),c=n,r=a("2877"),l=Object(r["a"])(c,i,s,!1,null,null,null);e["default"]=l.exports},ce8c:function(t,e,a){},fae0:function(t,e,a){t.exports=a.p+"img/caret-left-fill.3ad7935d.svg"}}]);
//# sourceMappingURL=chunk-540c7424.14f3a268.js.map